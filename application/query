8-12-2017/jeenath
ALTER TABLE `pro_project` ADD `naming_series` VARCHAR(250) NOT NULL AFTER `project_name`;

ALTER TABLE `sales_quotation_item` ADD `hsn_sac` VARCHAR(255) NOT NULL AFTER `item_name`;

ALTER TABLE `sales_quotation_item` CHANGE `uom` `uom_id` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `sales_quotation_item` CHANGE `warehouse` `warehouse_id` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `quotation_sales_taxes` ADD `account_id` INT(10) UNSIGNED NOT NULL AFTER `base_total`, ADD `row_id` VARCHAR(255) NOT NULL AFTER `account_id`, ADD `cost_center_id` INT(10) UNSIGNED NOT NULL AFTER `row_id`, ADD `description` VARCHAR(255) NOT NULL AFTER `cost_center_id`, ADD `included_in_print_rate` TINYINT(4) NOT NULL AFTER `description`, ADD `tax_amount_after_discount_amount` DECIMAL(9,2) NOT NULL AFTER `included_in_print_rate`, ADD `base_tax_amount` DECIMAL(9,2) NOT NULL AFTER `tax_amount_after_discount_amount`, ADD `base_tax_amount_after_discount_amount` DECIMAL(9,2) NOT NULL AFTER `base_tax_amount`, ADD `item_wise_tax_detail` VARCHAR(255) NOT NULL AFTER `base_tax_amount_after_discount_amount`, ADD `parenttype` VARCHAR(255) NOT NULL AFTER `item_wise_tax_detail`, ADD INDEX (`account_id`), ADD INDEX (`cost_center_id`);

ALTER TABLE `sales_quotation_contact` CHANGE `territory_id` `territory_id` VARCHAR(255) NOT NULL;

ALTER TABLE `crm_lead_contact_info` CHANGE `territory_id` `territory_id` VARCHAR(255) NOT NULL;

8-12-2017/shanmugapriya

ALTER TABLE `pur_buying_settings` ADD `is_delete` INT(0) NOT NULL AFTER `updated_by`;

ALTER TABLE `pur_supplier_type` CHANGE `supplier_type_id` `supplier_type_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;


ALTER TABLE `crm_opportunity_contact_info` CHANGE `territory_id` `territory_id` VARCHAR(255) NOT NULL;

ALTER TABLE `crm_lead_contact_info` CHANGE `contact_info_id` `contact_info_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_lead_more_info` CHANGE `more_info_id` `more_info_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_opportunity` CHANGE `opportunity_id` `opportunity_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

08-12-2017/Priyanka
ALTER TABLE `inv_custom_tariff_number` CHANGE `tariff_id` `tariff_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `inv_manufacturer` CHANGE `manufacturer_id` `manufacturer_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

08-12-2017/Dhanalakshmi
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('12', 'Delivery Note');
ALTER TABLE `inv_del_note_more_info` ADD `territory_id` INT(10) UNSIGNED NOT NULL AFTER `per_billed`;
ALTER TABLE `inv_del_note_more_info` ADD INDEX( `territory_id`);


09-12-2017/shanmugapriya
ALTER TABLE `crm_customer` CHANGE `territory_id` `territory_id` VARCHAR(255) NOT NULL;

UPDATE `menus` SET `slug` = 'crm/Sales_pipeline/Customer' WHERE `menus`.`id` = 49;

11-12-2017/Shanmugapriya

ALTER TABLE `crm_customer_group` CHANGE `customer_group_id` `customer_group_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;


ALTER TABLE `crm_customer_account` CHANGE `customer_account_id` `customer_account_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;


11/12/2017/priyanka

ALTER TABLE `bom_Operation` CHANGE `operating_id` `operation_id` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `bom_Operation` CHANGE `description` `description_value` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE `inv_item_price` CHANGE `item_price_id` `item_price_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

13/12/2017/priyanka
ALTER TABLE `inv_item_purchase_details` ADD `uom_id` INT(11) UNSIGNED NOT NULL AFTER `is_purchase_item`;
ALTER TABLE `inv_item_purchase_details` ADD INDEX( `uom_id`);
ALTER TABLE `inv_item_sales_details` ADD `uom_id` INT(10) UNSIGNED NOT NULL AFTER `account_id`, ADD INDEX (`uom_id`);

12-12-2017/Shanmugapriya

UPDATE `menus` SET `slug` = 'sales/Sales_partners_and_territory/Sales_person' WHERE `menus`.`id` = 59;

ALTER TABLE `crm_opportunity_item` CHANGE `opportunity_item_id` `opportunity_item_id` INT(10) NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_opportunity_contact_info` CHANGE `opportunity_contact_info_id` `opportunity_contact_info_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_opportunity_source_info` CHANGE `opportunity_source_id` `opportunity_source_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_opportunity_more_info` CHANGE `opportunity_more_info_id` `opportunity_more_info_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `crm_opportunity_next_contact` CHANGE `opportunity_next_contact_id` `opportunity_next_contact_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `sales_territory_target` ADD INDEX( `territory_id`);

ALTER TABLE `set_email_standard_reply` CHANGE `standatrd_reply_message` `standard_reply_message` TEXT CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;

14-12-2017/jeenath
ALTER TABLE `sales_quotation_printing_details` CHANGE `language` `language_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `sales_quotation_printing_details` ADD INDEX( `language_id`);



14.12.2017 /Dhanalakshmi
ALTER TABLE `inv_del_note_sales_team` ADD `incentives` DECIMAL(9,2) NOT NULL AFTER `total_commission`;
ALTER TABLE `inv_delivery_note_item` ADD `hsn_sac` VARCHAR(255) NOT NULL AFTER `page_break`;
ALTER TABLE `inv_delivery_note_item` CHANGE `batch_no` `batch_no_id` INT(10) UNSIGNED NOT NULL;

15.12.2017 /priyanka
ALTER TABLE `inv_item_variant_attribute` CHANGE `item_variant_attribute_id` `item_variant_attribute_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

18-12-2017/priyanka
ALTER TABLE `inv_item_attribute` CHANGE `item_attribute_id` `item_attribute_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_item_attribute_values` CHANGE `item_attribute_values_id` `item_attribute_values_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_item_quality_inspection_parameter` CHANGE `created_on` `created_on` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP;

16.12.2017 /Saranya
ALTER TABLE `man_bom_item` CHANGE `item_id` `item_item_id` INT(10) UNSIGNED NOT NULL, CHANGE `uom_id` `item_uom_id` INT(10) UNSIGNED NOT NULL, CHANGE `rate` `item_rate` DECIMAL(9,2) NOT NULL;

18-12-2017/jeenath
ALTER TABLE `sales_quotation_currency_price_list` ADD `price_list_currency_id` TEXT NOT NULL AFTER `selling_price_list_id`;
ALTER TABLE `sales_quotation_contact` ADD `territory_id` TEXT NOT NULL AFTER `customer_group_id`;

19.12.2017 -Saranya
ALTER TABLE `crm_party_account` CHANGE `customer_party_account_id` `customer_party_account_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_installation_note` ADD `territory_id` VARCHAR(255) NOT NULL AFTER `contact_email`;
ALTER TABLE `inv_installation_note` ADD `installation_note_status_id` INT(10) NOT NULL AFTER `company_id`, ADD INDEX (`installation_note_status_id`);


ALTER TABLE `inv_serial_no` CHANGE `purchase_time` `purchase_time` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP;
ALTER TABLE `inv_serial_no` ADD `delivery_time` TIMESTAMP on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `delivery_date`;
ALTER TABLE `inv_serial_no` CHANGE `purchase_time` `purchase_time` TIME NOT NULL;
ALTER TABLE `inv_serial_no` CHANGE `delivery_time` `delivery_time` TIME NOT NULL;

20.12.2017 Saranya
ALTER TABLE `inv_packing_slip_item` ADD `qty` FLOAT NOT NULL AFTER `description`;
ALTER TABLE `naming_transaction` CHANGE `transaction_id` `transaction_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('19', 'Packing Slip');
ALTER TABLE `inv_packing_slip` CHANGE `naming_series_id` `naming_series` VARCHAR(255) NOT NULL;
ALTER TABLE `inv_packing_slip` DROP `naming_series`;
ALTER TABLE `inv_packing_slip` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `packing_slip_id`;

21.12.2017 Saranya
ALTER TABLE `set_letter_head` CHANGE `letter_head_id` `letter_head_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;

27.12.2017 Shanmugapriya

pur_order_amount

ALTER TABLE `pur_order_amount` CHANGE `base_total` `base_total` DECIMAL(20,2) NOT NULL, CHANGE `base_net_total` `base_net_total` DECIMAL(20,2) NOT NULL, CHANGE `total` `total` DECIMAL(20,2) NOT NULL, CHANGE `net_total` `net_total` DECIMAL(20,2) NOT NULL, CHANGE `base_taxes_and_charges_added` `base_taxes_and_charges_added` DECIMAL(20,2) NOT NULL, CHANGE `base_taxes_and_charges_deducted` `base_taxes_and_charges_deducted` DECIMAL(20,2) NOT NULL, CHANGE `base_total_taxes_and_charges` `base_total_taxes_and_charges` DECIMAL(20,2) NOT NULL, CHANGE `taxes_and_charges_added` `taxes_and_charges_added` DECIMAL(20,2) NOT NULL, CHANGE `taxes_and_charges_deducted` `taxes_and_charges_deducted` DECIMAL(20,2) NOT NULL, CHANGE `total_taxes_and_charges` `total_taxes_and_charges` DECIMAL(20,2) NOT NULL;

ALTER TABLE `pur_order_amount` ADD CONSTRAINT `amount_id` FOREIGN KEY (`order_amount_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

pur_order_add_amount

ALTER TABLE `pur_order_add_amount` CHANGE `base_discount_amount` `base_discount_amount` DECIMAL(20,2) NOT NULL, CHANGE `discount_amount` `discount_amount` DECIMAL(20,2) NOT NULL, CHANGE `base_grand_total` `base_grand_total` DECIMAL(20,2) NOT NULL, CHANGE `rounded_total` `rounded_total` DECIMAL(20,2) NOT NULL, CHANGE `base_rounded_total` `base_rounded_total` DECIMAL(20,2) NOT NULL, CHANGE `grand_total` `grand_total` DECIMAL(20,2) NOT NULL, CHANGE `advance_paid` `advance_paid` DECIMAL(20,2) NOT NULL;

ALTER TABLE `pur_order_add_amount` ADD CONSTRAINT `order_add_amount` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;


pur_order_currency_pricelist

ALTER TABLE `pur_order_currency_pricelist` ADD CONSTRAINT `order_currency_pricelist` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

pur_order_taxes_details

ALTER TABLE `pur_order_taxes_details` ADD CONSTRAINT `order_taxes_details` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

pur_order_items_details

ALTER TABLE `pur_order_items_details` ADD CONSTRAINT `order_items_details` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_order_items_details` CHANGE `rate` `rate` DECIMAL(20,2) NOT NULL, CHANGE `amount` `amount` DECIMAL(20,2) NOT NULL, CHANGE `net_rate` `net_rate` DECIMAL(20,2) NOT NULL, CHANGE `net_amount` `net_amount` DECIMAL(20,2) NOT NULL, CHANGE `total` `total` DECIMAL(20,2) NOT NULL, CHANGE `base_rate` `base_rate` DECIMAL(20,2) NOT NULL, CHANGE `base_net_rate` `base_net_rate` DECIMAL(20,2) NOT NULL, CHANGE `base_amount` `base_amount` DECIMAL(20,2) NOT NULL, CHANGE `base_net_amount` `base_net_amount` DECIMAL(20,2) NOT NULL, CHANGE `received_qty` `received_qty` DECIMAL(20,2) NOT NULL, CHANGE `returned_qty` `returned_qty` DECIMAL(20,2) NOT NULL, CHANGE `billed_amt` `billed_amt` DECIMAL(20,2) NOT NULL, CHANGE `item_tax_rate` `item_tax_rate` DECIMAL(20,2) NOT NULL;


pur_order_item

ALTER TABLE `pur_order_item` ADD CONSTRAINT `order_pur` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_order_item` CHANGE `net_amount` `net_amount` DECIMAL(20,2) NOT NULL;
ALTER TABLE `pur_order_item` CHANGE `rate` `rate` DECIMAL(20,2) NOT NULL;

pur_order_tax

ALTER TABLE `pur_order_tax` ADD CONSTRAINT `pur_order_tax` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_order_tax` CHANGE `ratetax` `ratetax` DECIMAL(20,2) NOT NULL, CHANGE `tax_amount` `tax_amount` DECIMAL(20,2) NOT NULL, CHANGE `tax_total` `tax_total` DECIMAL(20,2) NOT NULL, CHANGE `tax_base_total` `tax_base_total` DECIMAL(20,2) NOT NULL;


pur_order_print_head

ALTER TABLE `pur_order_print_head` ADD CONSTRAINT `order_print_head` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

pur_order_more_info

ALTER TABLE `pur_order_more_info` ADD CONSTRAINT `order_more_info` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

pur_order_terms_condition

ALTER TABLE `pur_order_terms_condition` ADD CONSTRAINT `order_terms_condition` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

27/12/2017 -Manojkumar

ALTER TABLE `inv_material_request` DROP `amended_from_id`;
ALTER TABLE `inv_material_request` ADD `required_date` DATE NOT NULL AFTER `material_request_type_id`;
ALTER TABLE `man_bom` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `bom_id`;


29/12/2017 -Shanmugapriya

ALTER TABLE `sales_order_taxes_and_charges` CHANGE `rate` `ratetax` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;

ALTER TABLE  `sales_order_taxes_and_charges` CHANGE  `total`  `tax_total` DECIMAL( 20, 2 ) NOT NULL ;

ALTER TABLE `sales_order_taxes_and_charges` CHANGE `ratetax` `ratetax` DECIMAL(20,2) NOT NULL, CHANGE `tax_amount` `tax_amount` DECIMAL(20,2) NOT NULL, CHANGE `tax_total` `tax_total` DECIMAL(20,2) NOT NULL, CHANGE `tax_grand_total` `tax_grand_total` DECIMAL(20,2) NOT NULL;



ALTER TABLE `sales_order` ADD `plc_conversion_rate` FLOAT NOT NULL AFTER `shipping_rule_id`;
ALTER TABLE `sales_order` CHANGE `exchange_rate` `exchange_rate` FLOAT NOT NULL;
ALTER TABLE  `sales_order_printing_details` DROP  `tc_id` ;

02/01/2018 ( Items Table Constraint)

ALTER TABLE `inv_item` ADD FOREIGN KEY (`uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item` CHANGE `brand_id` `brand_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item` ADD FOREIGN KEY (`brand_id`) REFERENCES `inv_brand`(`brand_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_group` DROP `item_group_id`;
ALTER TABLE `inv_item_group` ADD `item_group_id` INT UNSIGNED NOT NULL AUTO_INCREMENT FIRST, ADD PRIMARY KEY (`item_group_id`);
ALTER TABLE `inv_item_attribute_values` ADD FOREIGN KEY (`item_attribute_id`) REFERENCES `inv_item_attribute`(`item_attribute_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_customer_detail` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_foreign_trade_details` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_inspection_criteria` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_inventory` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_inventory` CHANGE `warehouse_id` `warehouse_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_inventory` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_inventory` ADD FOREIGN KEY (`item_pricing_default_material_id`) REFERENCES `def_inv_item_pricing_default_material`(`item_pricing_default_material_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_inventory` ADD FOREIGN KEY (`item_pricing_valuation_method_id`) REFERENCES `def_inv_item_pricing_valuation_method`(`item_pricing_valuation_method_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_inventory` CHANGE `uom_id` `uom_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_inventory` ADD FOREIGN KEY (`uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_manufacturing` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_manufacturing` ADD FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_price` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_purchase_details` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_purchase_details` ADD FOREIGN KEY (`cost_center_id`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_purchase_details` ADD FOREIGN KEY (`account_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_quality_inspection_parameter` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_reorder` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_reorder` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_reorder` CHANGE `warehouse_id` `warehouse_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_reorder` ADD FOREIGN KEY (`material_request_id`) REFERENCES `inv_material_request`(`material_request_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_sales_details` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_sales_details` ADD FOREIGN KEY (`account_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_sales_details` ADD FOREIGN KEY (`uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_sales_details` ADD FOREIGN KEY (`cost_center_id`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_item_serial_nos_batches` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_supplier` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_supplier` ADD FOREIGN KEY (`supplier_id`) REFERENCES `pur_supplier`(`supplier_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_supplier_details` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_supplier_details` ADD FOREIGN KEY (`supplier_id`) REFERENCES `pur_supplier`(`supplier_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_tax` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_tax` ADD FOREIGN KEY (`account_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;



03-01-2018 (Stock Entry Table Constraint) by Manojkumar

ALTER TABLE `inv_stock_entry_details` CHANGE `item_code` `item_id` INT(10) NOT NULL;


ALTER TABLE `inv_stock_entry` ADD CONSTRAINT `stock_entry_purpose` FOREIGN KEY (`stock_entry_purpose_id`) REFERENCES `def_inv_stock_entry_purpose`(`stock_entry_purpose_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_entry` ADD CONSTRAINT `stock_entry_bom` FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_entry` CHANGE `supplier_id` `supplier_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_additional_costs` CHANGE `additional_costs_id` `additional_costs_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_stock_entry_additional_costs` CHANGE `stock_entry_id` `stock_entry_id` INT(11) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_additional_costs` ADD CONSTRAINT `stock_entry_cost` FOREIGN KEY (`stock_entry_id`) REFERENCES `inv_stock_entry`(`stock_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_entry_details` CHANGE `stock_entry_details_id` `stock_entry_details_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_stock_entry_details` CHANGE `stock_entry_id` `stock_entry_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_details` CHANGE `item_id` `item_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_details` CHANGE `bom_id` `bom_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_details` CHANGE `material_request_id` `material_request_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_stock_entry_details` ADD CONSTRAINT `stock_entry` FOREIGN KEY (`stock_entry_id`) REFERENCES `inv_stock_entry`(`stock_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_entry_details` ADD CONSTRAINT `stock_entry_item` FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_entry_details` ADD INDEX(`bom_id`);
ALTER TABLE `inv_stock_entry_details` ADD INDEX(`material_request_id`);
ALTER TABLE `inv_stock_printing_settings` ADD FOREIGN KEY (`stock_entry_id`) REFERENCES `inv_stock_entry`(`stock_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_printing_settings` ADD FOREIGN KEY (`print_heading_id`) REFERENCES `set_printing_heading`(`printing_heading_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_printing_settings` ADD FOREIGN KEY (`letter_head_id`) REFERENCES `set_letter_head`(`letter_head_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_stock_printing_settings` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION;


ALTER TABLE `inv_purchase_receipt_tax_charges` CHANGE `account_id` `account_head_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_purchase_receipt_tax_section` ADD `taxes_charges_template_id` INT(10) UNSIGNED NOT NULL AFTER `purchase_receipt_id`, ADD INDEX (`taxes_charges_template_id`);


ALTER TABLE `inv_item_uom_conversion` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_uom_conversion` ADD FOREIGN KEY (`uom_id`) REFERENCES `inv_item`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_variants_section` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `inv_item_variant_attribute` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;

Bom Table Constraint 

ALTER TABLE `man_bom` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`bom_rate_of_material_id`) REFERENCES `def_man_bom_rate_of_material`(`bom_rate_of_material_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`price_list_id`) REFERENCES `inv_price_list`(`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`currency_id`) REFERENCES `set_currency`(`currency_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom` ADD FOREIGN KEY (`uom_id`) REFERENCES `inv_item`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_explosion_item` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_explosion_item` ADD FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_explosion_item` ADD FOREIGN KEY (`uom_id`) REFERENCES `inv_item`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_explosion_item` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_item` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_item` ADD FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_item` ADD FOREIGN KEY (`item_item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_item` ADD FOREIGN KEY (`item_uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_scrap_item` ADD FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_bom_scrap_item` ADD FOREIGN KEY (`scrap_item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `bom_Operation` ADD FOREIGN KEY (`workstation_id`) REFERENCES `man_workstation`(`workstation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `bom_Operation` ADD FOREIGN KEY (`operation_id`) REFERENCES `man_operation`(`operation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;


ALTER TABLE `pur_supplier_quotation` ADD FOREIGN KEY (`print_heading_id`) REFERENCES `set_printing_heading`(`printing_heading_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation` ADD FOREIGN KEY (`letter_head_id`) REFERENCES `set_letter_head`(`letter_head_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`supplier_quotation_id`) REFERENCES `pur_supplier_quotation`(`supplier_quotation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`item_code`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`item_name`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`stock_uom`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`material_request_id`) REFERENCES `inv_material_request`(`material_request_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`request_for_quotation_id`) REFERENCES `pur_request_for_quotation`(`request_for_quotation_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`brand_id`) REFERENCES `inv_brand`(`brand_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`item_group_id`) REFERENCES `inv_item_group`(`item_group_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quotation_item` ADD FOREIGN KEY (`address_id`) REFERENCES `con_address`(`address_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_quo_address` ADD FOREIGN KEY (`address_id`) REFERENCES `con_address`(`address_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quo_address` ADD FOREIGN KEY (`contact_id`) REFERENCES `con_contact`(`contact_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quo_currency_pricelist` ADD FOREIGN KEY (`currency_id`) REFERENCES `set_currency`(`currency_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quo_currency_pricelist` ADD FOREIGN KEY (`price_list_id`) REFERENCES `inv_price_list`(`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION 
ALTER TABLE `pur_supplier_quo_tax` ADD FOREIGN KEY (`supplier_quotation_id`) REFERENCES `pur_supplier_quotation`(`supplier_quotation_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_quo_tax` ADD FOREIGN KEY (`taxes_charges_template_id`) REFERENCES `pur_taxes_and_charges_template`(`taxes_charges_template_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quo_tax` ADD FOREIGN KEY (`supplier_quo_apply_addi_disc_id`) REFERENCES `def_pur_purchase_order_apply_addi_disc`(`apply_addi_disc_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quo_tax_details` ADD FOREIGN KEY (`supplier_quotation_id`) REFERENCES `pur_supplier_quotation`(`supplier_quotation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier_quo_tax_details` ADD FOREIGN KEY (`account_head_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_quo_tax_details` ADD FOREIGN KEY (`cost_center_id`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`country_id`) REFERENCES `set_country`(`country_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`supplier_type_id`) REFERENCES `pur_supplier_type`(`supplier_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`currency_id`) REFERENCES `set_currency`(`currency_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`price_list_id`) REFERENCES `inv_price_list`(`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`address_id`) REFERENCES `con_address`(`address_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier` ADD FOREIGN KEY (`contact_id`) REFERENCES `con_contact`(`contact_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `con_address` ADD FOREIGN KEY (`country_id`) REFERENCES `set_country`(`country_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_address` ADD FOREIGN KEY (`address_type_id`) REFERENCES `def_con_address_type`(`address_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_contact` ADD FOREIGN KEY (`contact_status_id`) REFERENCES `def_con_contact_status`(`contact_status_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_contact` ADD FOREIGN KEY (`salutation_id`) REFERENCES `hr_salutation`(`salutation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_contact` ADD FOREIGN KEY (`gender_id`) REFERENCES `def_gender`(`gender_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_contact` ADD FOREIGN KEY (`department_id`) REFERENCES `hr_department`(`department_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `con_contact` ADD FOREIGN KEY (`designation_id`) REFERENCES `hr_designation`(`designation_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;

ALTER TABLE `pur_taxes_and_charges` ADD FOREIGN KEY (`account_head_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_taxes_and_charges` ADD FOREIGN KEY (`cost_center_id`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_workstation` ADD FOREIGN KEY (`holiday_list_id`) REFERENCES `hr_holiday_list`(`holiday_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_timesheet` ADD FOREIGN KEY (`salary_slip_id`) REFERENCES `hr_salary_slip`(`salary_slip_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_timesheet` ADD FOREIGN KEY (`employee_id`) REFERENCES `hr_employee`(`employee_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_timesheet` ADD FOREIGN KEY (`task_id`) REFERENCES `pro_task`(`task_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `man_timesheet_detail` ADD FOREIGN KEY (`task_id`) REFERENCES `pro_task`(`task_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;
ALTER TABLE `pur_buying_settings` ADD FOREIGN KEY (`po_required`) REFERENCES `def_pur_buying_pur_order_req`(`buying_pur_order_req_id`) ON DELETE CASCADE ON UPDATE NO ACTION 


ALTER TABLE `pur_buying_settings` ADD FOREIGN KEY (`buying_price_list_id`) REFERENCES `inv_price_list`(`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION ;

ALTER TABLE `inv_item_group` ADD FOREIGN KEY (`default_income_account`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_group` ADD FOREIGN KEY (`default_expense_account`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_group` ADD FOREIGN KEY (`default_cost_center`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_account` ADD FOREIGN KEY (`supplier_id`) REFERENCES `pur_supplier`(`supplier_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

=================================================================================================
04-01-2018  BY MANOJ
=================================================================================================
ALTER TABLE `pur_supplier` ADD `state` VARCHAR(255) NOT NULL AFTER `supplier_name`;

CREATE TABLE `pur_supplier_scorecard` (
  `supplier_scorecard_id` int(10) UNSIGNED NOT NULL,
  `supplier_id` int(10) UNSIGNED NOT NULL,
  `supplier_score` varchar(255) NOT NULL,
  `indicator_color` varchar(255) NOT NULL,
  `sup_scor_evaluation_period_id` int(10) UNSIGNED NOT NULL,
  `weighting_function` text NOT NULL,
  `warn_rfqs` tinyint(4) NOT NULL,
  `warn_pos` tinyint(4) NOT NULL,
  `prevent_rfqs` tinyint(4) NOT NULL,
  `prevent_pos` tinyint(4) NOT NULL,
  `notify_supplier` tinyint(4) NOT NULL,
  `notify_employee` tinyint(4) NOT NULL,
  `employee_id` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `pur_supplier_scorecard_criteria` (
  `supplier_scorecard_criteria_id` int(10) UNSIGNED NOT NULL,
  `criteria_name` varchar(255) NOT NULL,
  `weight` decimal(9,2) NOT NULL,
  `max_score` decimal(9,2) NOT NULL,
  `formula` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `pur_supplier_scorecard_standing` (
  `supplier_scorecard_standing_id` int(10) UNSIGNED NOT NULL,
  `standing_name` varchar(255) NOT NULL,
  `sup_scor_color_id` int(10) UNSIGNED NOT NULL,
  `min_grade` decimal(9,2) NOT NULL,
  `max_grade` decimal(9,2) NOT NULL,
  `warn_rfqs` tinyint(4) NOT NULL,
  `warn_pos` tinyint(4) NOT NULL,
  `prevent_rfqs` tinyint(4) NOT NULL,
  `prevent_pos` tinyint(4) NOT NULL,
  `notify_supplier` tinyint(4) NOT NULL,
  `notify_employee` tinyint(4) NOT NULL,
  `employee_id` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `pur_supplier_scorecard_variable` (
  `supplier_scorecard_variable_id` int(10) UNSIGNED NOT NULL,
  `variable_name` varchar(255) NOT NULL,
  `is_custom` tinyint(4) NOT NULL,
  `param_name` varchar(255) NOT NULL,
  `path` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `pur_supplier_scorecard`
  ADD PRIMARY KEY (`supplier_scorecard_id`),
  ADD KEY `supplier_id` (`supplier_id`),
  ADD KEY `sup_scor_evaluation_period_id` (`sup_scor_evaluation_period_id`),
  ADD KEY `employee_id` (`employee_id`);


ALTER TABLE `pur_supplier_scorecard_criteria`
  ADD PRIMARY KEY (`supplier_scorecard_criteria_id`);


ALTER TABLE `pur_supplier_scorecard_standing`
  ADD PRIMARY KEY (`supplier_scorecard_standing_id`),
  ADD KEY `sup_scor_color_id` (`sup_scor_color_id`),
  ADD KEY `employee_id` (`employee_id`);


ALTER TABLE `pur_supplier_scorecard_variable`
  ADD PRIMARY KEY (`supplier_scorecard_variable_id`);


ALTER TABLE `pur_supplier_scorecard`
  MODIFY `supplier_scorecard_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `pur_supplier_scorecard_criteria`
  MODIFY `supplier_scorecard_criteria_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `pur_supplier_scorecard_standing`
  MODIFY `supplier_scorecard_standing_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `pur_supplier_scorecard_variable`
  MODIFY `supplier_scorecard_variable_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;


  ALTER TABLE `man_production_order` CHANGE `project_id` `project_id` INT(10) UNSIGNED NOT NULL;
  ALTER TABLE `man_production_order` CHANGE `uom_id` `uom_id` INT(10) UNSIGNED NOT NULL;
  ALTER TABLE `man_production_order` CHANGE `company_id` `company_id` INT(10) UNSIGNED NOT NULL;
  ALTER TABLE `man_production_order` CHANGE `material_request_id` `material_request_id` INT(10) UNSIGNED NOT NULL;

  ALTER TABLE `man_production_order`
  ADD CONSTRAINT `man_production_order_ibfk_1` FOREIGN KEY (`item_id`) REFERENCES `inv_item` (`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_2` FOREIGN KEY (`bom_id`) REFERENCES `man_bom` (`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_3` FOREIGN KEY (`sales_order_id`) REFERENCES `sales_order` (`sales_order_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_4` FOREIGN KEY (`project_id`) REFERENCES `pro_project` (`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_5` FOREIGN KEY (`uom_id`) REFERENCES `set_uom` (`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_6` FOREIGN KEY (`company_id`) REFERENCES `set_company` (`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `man_production_order_ibfk_7` FOREIGN KEY (`material_request_id`) REFERENCES `inv_material_request` (`material_request_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

  ALTER TABLE `man_production_order_required_items`
  ADD CONSTRAINT `man_production_order_required_items_ibfk_1` FOREIGN KEY (`production_order_id`) REFERENCES `man_production_order` (`production_order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

=================================================================================================
=================================================================================================
  05-01-2018 BY MANOJ from to k,p,b,s
=================================================================================================
ALTER TABLE `pro_project` ADD FOREIGN KEY (`pro_status_id`) REFERENCES `def_pro_status`(`pro_status_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` CHANGE `company_id` `company_id` INT(10) UNSIGNED ZEROFILL NOT NULL;
ALTER TABLE `pro_project` CHANGE `cost_center_id` `cost_center_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project` CHANGE `company_id` `company_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`project_type_id`) REFERENCES `pro_project_type`(`project_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`pro_is_active_id`) REFERENCES `def_pro_is_active`(`pro_is_active_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`complete_mode_id`) REFERENCES `def_pro_complete_mode`(`complete_mode_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`priority_id`) REFERENCES `def_pro_priority`(`priority_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project` ADD  FOREIGN KEY (`cost_center_id`) REFERENCES `acc_cost_center`(`cost_center_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project_task` CHANGE `project_task_id` `project_task_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `pro_project_task` CHANGE `project_id` `project_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project_task` CHANGE `task_status_id` `task_status_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project_task` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `pro_project_task` ADD FOREIGN KEY (`task_status_id`) REFERENCES `def_pro_task_status`(`task_status_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_task_depends_on` CHANGE `task_depends_id` `task_depends_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `pro_task_depends_on` CHANGE `task_id` `task_id` INT(11) UNSIGNED NOT NULL;
ALTER TABLE `pro_task_depends_on` ADD FOREIGN KEY (`task_id`) REFERENCES `pro_task`(`task_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_activity_cost` ADD FOREIGN KEY (`activity_type_id`) REFERENCES `pro_activity_type`(`activity_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `pro_activity_cost` ADD FOREIGN KEY (`employee_id`) REFERENCES `hr_employee`(`employee_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project_user` CHANGE `project_user_id` `project_user_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `pro_project_user` CHANGE `project_id` `project_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project_user` CHANGE `user_profile_id` `user_profile_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_project_user` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_project_user` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pro_task` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `pro_task` ADD FOREIGN KEY (`task_status_id`) REFERENCES `def_pro_task_status`(`task_status_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `pro_task` ADD FOREIGN KEY (`priority_id`) REFERENCES `def_pro_priority`(`priority_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `pro_task` ADD FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `pur_supplier_scorecard_variable` ADD `description` TEXT NOT NULL AFTER `path`; 
ALTER TABLE inv_material_request DROP FOREIGN KEY company_key_id2;
ALTER TABLE bom_Operation RENAME man_bom_operation;
ALTER TABLE `man_bom_operation` CHANGE `bom_operation_id` `bom_operation_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `pro_project` ADD `percent_completed` VARCHAR(255) NOT NULL AFTER `expected_end_date`, ADD `customer_id` INT(10) UNSIGNED NOT NULL AFTER `percent_completed`, ADD `sales_order_id` INT(10) UNSIGNED NOT NULL AFTER `customer_id`, ADD `total_billing_amount` FLOAT NOT NULL AFTER `sales_order_id`, ADD `total_costing_amount` FLOAT NOT NULL AFTER `total_billing_amount`, ADD `total_purchase_cost` FLOAT NOT NULL AFTER `total_costing_amount`, ADD `total_expense_claim` FLOAT NOT NULL AFTER `total_purchase_cost`, ADD `total_sales_cost` FLOAT NOT NULL AFTER `total_expense_claim`, ADD `notes` VARCHAR(255) NOT NULL AFTER `total_sales_cost`, ADD `actual_time` TIME NOT NULL AFTER `notes`, ADD `gross_margin` VARCHAR(255) NOT NULL AFTER `actual_time`, ADD `gross_margin_percentage` VARCHAR(255) NOT NULL AFTER `gross_margin`, ADD INDEX (`customer_id`), ADD INDEX (`sales_order_id`);

ALTER TABLE man_bom DROP FOREIGN KEY man_bom_ibfk_5;
ALTER TABLE inv_stock_printing_settings DROP FOREIGN KEY inv_stock_printing_settings_ibfk_4;
==============================================================================================================================================================================================================================================
06-01-2018 BY MANOJ from to d
=====================================================================================================================
--
-- Table structure for table `pur_supplier_scorecard_scoring_criteria`
--

CREATE TABLE `pur_supplier_scorecard_scoring_criteria` (
  `supplier_scorecard_scoring_criteria_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_criteria_id` int(10) UNSIGNED NOT NULL,
  `weight` decimal(9,2) NOT NULL,
  `max_score` decimal(9,2) NOT NULL,
  `formula` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `pur_supplier_scorecard_scoring_standing`
--

CREATE TABLE `pur_supplier_scorecard_scoring_standing` (
  `supplier_scorecard_scoring_standing_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_standing_id` int(10) UNSIGNED NOT NULL,
  `sup_scor_color_id` int(10) UNSIGNED NOT NULL,
  `min_grade` decimal(9,2) NOT NULL,
  `max_grade` decimal(9,2) NOT NULL,
  `warn_rfqs` tinyint(4) NOT NULL,
  `warn_pos` tinyint(4) NOT NULL,
  `prevent_rfqs` tinyint(4) NOT NULL,
  `prevent_pos` tinyint(4) NOT NULL,
  `notify_supplier` tinyint(4) NOT NULL,
  `notify_employee` tinyint(4) NOT NULL,
  `employee_id` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `pur_supplier_scorecard_scoring_variable`
--

CREATE TABLE `pur_supplier_scorecard_scoring_variable` (
  `supplier_scorecard_scoring_variable_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_id` int(10) UNSIGNED NOT NULL,
  `supplier_scorecard_variable_id` int(10) UNSIGNED NOT NULL,
  `is_custom` tinyint(4) NOT NULL,
  `param_name` varchar(255) NOT NULL,
  `path` varchar(255) NOT NULL,
  `description` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `pur_supplier_scorecard_scoring_criteria`
--
ALTER TABLE `pur_supplier_scorecard_scoring_criteria`
  ADD PRIMARY KEY (`supplier_scorecard_scoring_criteria_id`),
  ADD KEY `supplier_scorecard_id` (`supplier_scorecard_id`);

--
-- Indexes for table `pur_supplier_scorecard_scoring_standing`
--
ALTER TABLE `pur_supplier_scorecard_scoring_standing`
  ADD PRIMARY KEY (`supplier_scorecard_scoring_standing_id`),
  ADD KEY `supplier_scorecard_id` (`supplier_scorecard_id`),
  ADD KEY `sup_scor_color_id` (`sup_scor_color_id`),
  ADD KEY `employee_id` (`employee_id`);

--
-- Indexes for table `pur_supplier_scorecard_scoring_variable`
--
ALTER TABLE `pur_supplier_scorecard_scoring_variable`
  ADD PRIMARY KEY (`supplier_scorecard_scoring_variable_id`),
  ADD KEY `supplier_scorecard_id` (`supplier_scorecard_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `pur_supplier_scorecard_scoring_criteria`
--
ALTER TABLE `pur_supplier_scorecard_scoring_criteria`
  MODIFY `supplier_scorecard_scoring_criteria_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `pur_supplier_scorecard_scoring_standing`
--
ALTER TABLE `pur_supplier_scorecard_scoring_standing`
  MODIFY `supplier_scorecard_scoring_standing_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `pur_supplier_scorecard_scoring_variable`
--
ALTER TABLE `pur_supplier_scorecard_scoring_variable`
  MODIFY `supplier_scorecard_scoring_variable_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE inv_stock_entry DROP FOREIGN KEY stock_entry_bom;
ALTER TABLE `crm_lead` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE crm_lead DROP FOREIGN KEY lead_campaign;

CREATE TABLE `sales_target_detail` (
  `target_detail_id` int(10) UNSIGNED NOT NULL,
  `item_group_id` int(10) UNSIGNED NOT NULL,
  `fiscal_year_id` int(10) UNSIGNED NOT NULL,
  `target_qty` decimal(19,2) NOT NULL,
  `target_amount` decimal(19,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `sales_target_detail`
--
ALTER TABLE `sales_target_detail`
  ADD PRIMARY KEY (`target_detail_id`),
  ADD KEY `item_group_id` (`item_group_id`),
  ADD KEY `fiscal_year_id` (`fiscal_year_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `sales_target_detail`
--
ALTER TABLE `sales_target_detail`
  MODIFY `target_detail_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `acc_fisical_year` CHANGE `fisical_year_id` `fiscal_year_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE acc_fisical_year RENAME acc_fiscal_year;
ALTER TABLE `acc_fisical_year_company` CHANGE `fisical_year_id` `fiscal_year_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_fisical_year_company` CHANGE `fisical_year_company_id` `fiscal_year_company_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE acc_fisical_year_company RENAME acc_fiscal_year_company;
=======================================================================================================================
08-01-2018 BY MANOj from to n
=======================================================================================================================
ALTER TABLE `sales_target_detail` ADD `sales_partner_id` INT(10) UNSIGNED NOT NULL AFTER `target_detail_id`, ADD INDEX (`sales_partner_id`);
ALTER TABLE `acc_monthly_distribution` CHANGE `fisical_year_id` `fiscal_year_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_1;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_2;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_3;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_4;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_5;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_6;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_7;
ALTER TABLE man_production_order_required_items DROP FOREIGN KEY man_production_order_required_items_ibfk_1;
ALTER TABLE `man_production_order` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order` ADD FOREIGN KEY (`bom_id`) REFERENCES `man_bom`(`bom_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order` ADD FOREIGN KEY (`sales_order_id`) REFERENCES `sales_order`(`sales_order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order` ADD FOREIGN KEY (`project_id`) REFERENCES `pro_project`(`project_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order` ADD FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order_required_items` ADD FOREIGN KEY (`production_order_id`) REFERENCES `man_production_order`(`production_order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `man_production_order_required_items` CHANGE `warehouse_id` `warehouse_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `man_production_order_required_items` ADD FOREIGN KEY (`warehouse_id`) REFERENCES `inv_warehouse`(`warehouse_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE inv_serial_no DROP FOREIGN KEY item_group_key_id;

ALTER TABLE `inv_item_reorder` CHANGE `warehouse_id` `warehouse_group_id` INT(10) NOT NULL;
ALTER TABLE `inv_item_reorder` ADD `request_warehouse_id` INT UNSIGNED NOT NULL AFTER `warehouse_group_id`, ADD INDEX (`request_warehouse_id`);
UPDATE `naming_transaction` SET `transaction` = 'Task' WHERE `naming_transaction`.`transaction_id` = 23;
ALTER TABLE `sales_territory_target` CHANGE `fisical_year_id` `fiscal_year_id` INT(11) NOT NULL;

ALTER TABLE `sales_partner_target` CHANGE `fisical_year_id` `fiscal_year_id` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
UPDATE `naming_transaction` SET `transaction` = 'Task' WHERE `naming_transaction`.`transaction_id` = 23;


ALTER TABLE crm_opportunity DROP FOREIGN KEY crm_opportunity_ibfk_2;
ALTER TABLE `link_contact` CHANGE `con_doc_ref_id` `con_doc_ref_id` VARCHAR(255) NOT NULL;
ALTER TABLE `crm_lead` CHANGE `lead_owner` `lead_owner` VARCHAR(255) NOT NULL;
ALTER TABLE `crm_lead` CHANGE `contact_by` `contact_by` VARCHAR(255) NOT NULL;
ALTER TABLE `link_contact` CHANGE `contact_id` `contact_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `link_contact` CHANGE `con_doc_type_id` `con_doc_type_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `link_contact` ADD FOREIGN KEY (`contact_id`) REFERENCES `con_contact`(`contact_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `link_contact` ADD FOREIGN KEY (`con_doc_type_id`) REFERENCES `doc_type`(`doc_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `link_address` CHANGE `address_id` `address_id` INT(11) UNSIGNED NOT NULL;
ALTER TABLE `link_address` CHANGE `add_doc_type_id` `add_doc_type_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `link_address` ADD FOREIGN KEY (`address_id`) REFERENCES `con_address`(`address_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `sales_target_detail` ADD FOREIGN KEY (`sales_partner_id`) REFERENCES `sales_sales_partner`(`sales_partner_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE crm_opportunity_next_contact DROP FOREIGN KEY crm_opportunity_next_contact_ibfk_2;
ALTER TABLE `crm_opportunity_next_contact` CHANGE `user_id` `user_id` VARCHAR(255) NOT NULL;

===============================================================================================================
09-01-2018 BY MANOJ
===============================================================================================================

ALTER TABLE `inv_installation_note` CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_installation_note` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_installation_note_item` CHANGE `installation_note_item_id` `installation_note_item_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `inv_installation_note` CHANGE `customer_address` `customer_address_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_installation_note` ADD INDEX(`customer_address_id`);
--
-- Table structure for table `def_inv_shipping_type`
--

CREATE TABLE `def_inv_shipping_type` (
  `shipping_type_id` int(10) UNSIGNED NOT NULL,
  `shipping_type` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_inv_shipping_type`
--

INSERT INTO `def_inv_shipping_type` (`shipping_type_id`, `shipping_type`) VALUES
(1, 'Buying'),
(2, 'Selling');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_inv_shipping_type`
--
ALTER TABLE `def_inv_shipping_type`
  ADD PRIMARY KEY (`shipping_type_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_inv_shipping_type`
--
ALTER TABLE `def_inv_shipping_type`
  MODIFY `shipping_type_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

ALTER TABLE `inv_shipping_rule` ADD `shipping_type_id` INT UNSIGNED NOT NULL AFTER `label`, ADD INDEX (`shipping_type_id`); 
ALTER TABLE `inv_shipping_rule` ADD FOREIGN KEY (`shipping_type_id`) REFERENCES `def_inv_shipping_type`(`shipping_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION; 
ALTER TABLE `inv_shipping_rule` ADD `shipping_amount` DECIMAL(19,2) NOT NULL AFTER `shipping_type_id`;

ALTER TABLE `inv_product_bundle` ADD `item_description` TEXT NOT NULL AFTER `item_name`;
===========================================================================================================
10-01-2018 BY MANOJ
===========================================================================================================

ALTER TABLE hr_employee_loan_application DROP FOREIGN KEY hr_employee_loan_application_ibfk_2;
ALTER TABLE hr_emp_history_in_company DROP FOREIGN KEY hr_emp_history_in_company_ibfk_4;
ALTER TABLE hr_employee_loan_application DROP FOREIGN KEY hr_employee_loan_application_ibfk_6;
ALTER TABLE hr_expense_claim DROP FOREIGN KEY hr_expense_claim_ibfk_4;
ALTER TABLE `hr_employee_loan_repayment_schedule` ADD `employee_loan_application_id` INT(10) UNSIGNED NOT NULL AFTER `employee_loan_id`;
ALTER TABLE `hr_training_event_attendees` DROP FOREIGN KEY `hr_training_event_attendees_ibfk_2`; ALTER TABLE `hr_training_event_attendees` ADD CONSTRAINT `hr_training_event_attendees_ibfk_2` FOREIGN KEY (`employee_id`) REFERENCES `hr_employee`(`employee_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `hr_training_result` DROP `employee_id`, DROP `hours`, DROP `grade`, DROP `comments`;
ALTER TABLE `hr_training_result` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
INSERT INTO `def_inv_calculate_based_on` (`calculate_id`, `calculate_based_on`) VALUES (NULL, 'Fixed Amount');

--
-- Table structure for table `acc_pay_term`
--

CREATE TABLE `acc_pay_term` (
  `pay_term_id` int(10) UNSIGNED NOT NULL,
  `pay_term_name` varchar(255) NOT NULL,
  `due_date_id` int(10) UNSIGNED NOT NULL,
  `credit_days` int(10) NOT NULL,
  `pay_term_inv` int(10) UNSIGNED NOT NULL,
  `description` text NOT NULL,
  `is_delete` tinyint(4) NOT NULL DEFAULT '0',
  `created_on` date NOT NULL,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` date NOT NULL,
  `updated_by` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `acc_pay_term`
--

INSERT INTO `acc_pay_term` (`pay_term_id`, `pay_term_name`, `due_date_id`, `credit_days`, `pay_term_inv`, `description`, `is_delete`, `created_on`, `created_by`, `updated_on`, `updated_by`) VALUES
(1, 'Payment term for sales order', 1, 4, 45, 'Payment term for sales order', 0, '2018-01-10', 2424859834, '0000-00-00', 2424859834),
(2, 'Payment term for Quotation', 2, 5, 45, 'Payment term for Quotation', 0, '2018-01-10', 2424859834, '0000-00-00', 2424859834);

-- --------------------------------------------------------

--
-- Table structure for table `acc_pay_term_template`
--

CREATE TABLE `acc_pay_term_template` (
  `pay_term_template_id` int(10) UNSIGNED NOT NULL,
  `pay_term_template_name` varchar(255) NOT NULL,
  `is_delete` tinyint(4) NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `acc_pay_term_template`
--

INSERT INTO `acc_pay_term_template` (`pay_term_template_id`, `pay_term_template_name`, `is_delete`, `created_on`, `created_by`, `updated_on`, `updated_by`) VALUES
(1, 'Pay term for sales order', 0, '2018-01-10 06:32:58', 2424859834, '2018-01-10 06:32:58', 2424859834);

-- --------------------------------------------------------

--
-- Table structure for table `acc_pay_term_temp_inv`
--

CREATE TABLE `acc_pay_term_temp_inv` (
  `pay_term_temp_inv_id` int(10) UNSIGNED NOT NULL,
  `pay_term_inv` int(10) UNSIGNED NOT NULL,
  `pay_term_template_id` int(10) UNSIGNED NOT NULL,
  `pay_term_id` int(10) UNSIGNED NOT NULL,
  `credit_days` int(10) UNSIGNED NOT NULL,
  `due_date_id` int(10) UNSIGNED NOT NULL,
  `description` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `acc_pay_term_temp_inv`
--

INSERT INTO `acc_pay_term_temp_inv` (`pay_term_temp_inv_id`, `pay_term_inv`, `pay_term_template_id`, `pay_term_id`, `credit_days`, `due_date_id`, `description`) VALUES
(1, 75, 1, 1, 54, 1, 'Payment term for sales order'),
(2, 5, 1, 2, 5, 2, 'Payment term for Quotation'),
(3, 20, 1, 1, 4, 3, 'Payment term for sales order');

-- --------------------------------------------------------

--
-- Table structure for table `def_acc_due_date`
--

CREATE TABLE `def_acc_due_date` (
  `due_date_id` int(10) UNSIGNED NOT NULL,
  `due_date` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_acc_due_date`
--

INSERT INTO `def_acc_due_date` (`due_date_id`, `due_date`) VALUES
(1, 'Day(s) after invoice date'),
(2, 'Day(s) after the end of the invoice month'),
(3, 'Month(s) after the end of the invoice month');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `acc_pay_term`
--
ALTER TABLE `acc_pay_term`
  ADD PRIMARY KEY (`pay_term_id`),
  ADD KEY `due_date_id` (`due_date_id`),
  ADD KEY `pay_term_inv` (`pay_term_inv`);

--
-- Indexes for table `acc_pay_term_template`
--
ALTER TABLE `acc_pay_term_template`
  ADD PRIMARY KEY (`pay_term_template_id`);

--
-- Indexes for table `acc_pay_term_temp_inv`
--
ALTER TABLE `acc_pay_term_temp_inv`
  ADD PRIMARY KEY (`pay_term_temp_inv_id`),
  ADD KEY `pay_term_temp_inv_part` (`pay_term_inv`,`pay_term_template_id`),
  ADD KEY `due_date_id` (`due_date_id`),
  ADD KEY `pay_term_id` (`pay_term_id`),
  ADD KEY `pay_term_template_id` (`pay_term_template_id`);

--
-- Indexes for table `def_acc_due_date`
--
ALTER TABLE `def_acc_due_date`
  ADD PRIMARY KEY (`due_date_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `acc_pay_term`
--
ALTER TABLE `acc_pay_term`
  MODIFY `pay_term_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT for table `acc_pay_term_template`
--
ALTER TABLE `acc_pay_term_template`
  MODIFY `pay_term_template_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;
--
-- AUTO_INCREMENT for table `acc_pay_term_temp_inv`
--
ALTER TABLE `acc_pay_term_temp_inv`
  MODIFY `pay_term_temp_inv_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `def_acc_due_date`
--
ALTER TABLE `def_acc_due_date`
  MODIFY `due_date_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `acc_pay_term`
--
ALTER TABLE `acc_pay_term`
  ADD CONSTRAINT `acc_pay_term_ibfk_1` FOREIGN KEY (`due_date_id`) REFERENCES `def_acc_due_date` (`due_date_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

--
-- Constraints for table `acc_pay_term_temp_inv`
--
ALTER TABLE `acc_pay_term_temp_inv`
  ADD CONSTRAINT `acc_pay_term_temp_inv_ibfk_1` FOREIGN KEY (`pay_term_id`) REFERENCES `acc_pay_term` (`pay_term_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `acc_pay_term_temp_inv_ibfk_2` FOREIGN KEY (`pay_term_template_id`) REFERENCES `acc_pay_term_template` (`pay_term_template_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `acc_pay_term_temp_inv_ibfk_3` FOREIGN KEY (`due_date_id`) REFERENCES `def_acc_due_date` (`due_date_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
  ================================================================================================================
  10-01-2018  AN
  ================================================================================================================

  ALTER TABLE `hr_leave_block_list_allow` ADD FOREIGN KEY (`leave_block_list_id`) REFERENCES `hr_leave_block_list`(`leave_block_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
--
-- Table structure for table `inv_delivery_trip_stops`
--

CREATE TABLE `inv_delivery_trip_stops` (
  `delivery_stop_id` int(10) UNSIGNED NOT NULL,
  `delivery_trip_id` int(10) UNSIGNED NOT NULL,
  `customer_id` int(10) UNSIGNED NOT NULL,
  `address_id` int(10) UNSIGNED NOT NULL,
  `contact_id` int(10) UNSIGNED NOT NULL,
  `estimation_arrival` time NOT NULL,
  `details` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_delivery_trip_stops`
--
ALTER TABLE `inv_delivery_trip_stops`
  ADD PRIMARY KEY (`delivery_stop_id`),
  ADD KEY `customer_id` (`customer_id`,`address_id`),
  ADD KEY `contact_id` (`contact_id`),
  ADD KEY `delivery_trip_id` (`delivery_trip_id`),
  ADD KEY `address_id` (`address_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_delivery_trip_stops`
--
ALTER TABLE `inv_delivery_trip_stops`
  MODIFY `delivery_stop_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;
--
-- Constraints for dumped tables
--
--
-- Table structure for table `inv_delivery_trip`
--

CREATE TABLE `inv_delivery_trip` (
  `delivery_trip_id` int(10) UNSIGNED NOT NULL,
  `naming_series` varchar(255) NOT NULL,
  `company_id` int(10) UNSIGNED NOT NULL,
  `date` date NOT NULL,
  `driver` varchar(255) NOT NULL,
  `departure` time NOT NULL,
  `vehicle` varchar(255) NOT NULL,
  `delivery_notification` varchar(255) NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `is_delete` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_delivery_trip`
--
ALTER TABLE `inv_delivery_trip`
  ADD PRIMARY KEY (`delivery_trip_id`),
  ADD KEY `company_id` (`company_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_delivery_trip`
--
ALTER TABLE `inv_delivery_trip`
  MODIFY `delivery_trip_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `inv_delivery_trip`
--
ALTER TABLE `inv_delivery_trip`
  ADD CONSTRAINT `inv_delivery_trip_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `set_company` (`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

  --
-- Table structure for table `sales_quotation_payment_details`
--

CREATE TABLE `sales_quotation_payment_details` (
  `sales_quotation_payment_id` int(10) UNSIGNED NOT NULL,
  `quotation_id` int(10) UNSIGNED NOT NULL,
  `pay_term_id` int(10) UNSIGNED NOT NULL,
  `due_date_id` int(10) UNSIGNED NOT NULL,
  `pay_term_inv` varchar(255) NOT NULL,
  `description` varchar(255) NOT NULL,
  `payment_amount` decimal(19,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `sales_quotation_payment_details`
--
ALTER TABLE `sales_quotation_payment_details`
  ADD PRIMARY KEY (`sales_quotation_payment_id`),
  ADD KEY `quotation_id` (`quotation_id`),
  ADD KEY `due_date_id` (`due_date_id`),
  ADD KEY `pay_term_id` (`pay_term_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `sales_quotation_payment_details`
--
ALTER TABLE `sales_quotation_payment_details`
  MODIFY `sales_quotation_payment_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
  ALTER TABLE `sales_quotation_tax` ADD `pay_term_template_id` INT(10) UNSIGNED NOT NULL AFTER `taxes_and_charges_id`, ADD INDEX (`pay_term_template_id`);


--
-- Constraints for table `inv_delivery_trip_stops`
--
ALTER TABLE `inv_delivery_trip_stops`
  ADD CONSTRAINT `inv_delivery_trip_stops_ibfk_1` FOREIGN KEY (`delivery_trip_id`) REFERENCES `inv_delivery_trip` (`delivery_trip_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `inv_delivery_trip_stops_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `crm_customer` (`customer_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `inv_delivery_trip_stops_ibfk_3` FOREIGN KEY (`address_id`) REFERENCES `con_address` (`address_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `inv_delivery_trip_stops_ibfk_4` FOREIGN KEY (`contact_id`) REFERENCES `con_contact` (`contact_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

  INSERT INTO `menus` (`id`, `module_id`, `parent`, `name`, `icon`, `slug`, `number`) VALUES ('256', '7', '130', 'Delivery Trip', '', 'inventory/Stock_transactions/Delivery_trip/', '5');



  CREATE TABLE `sales_order_payment_details` (
  `sales_order_payment_id` int(10) UNSIGNED NOT NULL,
  `sales_order_id` int(10) UNSIGNED NOT NULL,
  `pay_term_id` int(10) UNSIGNED NOT NULL,
  `due_date_id` int(10) UNSIGNED NOT NULL,
  `pay_term_inv` varchar(255) NOT NULL,
  `description` varchar(255) NOT NULL,
  `payment_amount` decimal(19,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for table `sales_order_payment_details`
--
ALTER TABLE `sales_order_payment_details`
  ADD PRIMARY KEY (`sales_order_payment_id`),
  ADD KEY `sales_order_id` (`sales_order_id`,`pay_term_id`,`due_date_id`),
  ADD KEY `due_date_id` (`due_date_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `sales_order_payment_details`
--
ALTER TABLE `sales_order_payment_details`
  MODIFY `sales_order_payment_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `sales_order_payment_details`
--
ALTER TABLE `sales_order_payment_details`
  ADD CONSTRAINT `sales_order_payment_details_ibfk_1` FOREIGN KEY (`sales_order_id`) REFERENCES `sales_order` (`sales_order_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `sales_order_payment_details_ibfk_2` FOREIGN KEY (`due_date_id`) REFERENCES `def_acc_due_date` (`due_date_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

  ALTER TABLE `sales_order_tax_detail` ADD `pay_term_template_id` INT(10) UNSIGNED NOT NULL AFTER `net_total`;

  CREATE TABLE `acc_asset_category` (
  `asset_category_id` int(10) UNSIGNED NOT NULL,
  `asset_category_name` varchar(255) NOT NULL,
  `def_asset_depriciation_id` int(10) UNSIGNED NOT NULL,
  `total_number_of_depreciations` int(11) NOT NULL,
  `frequency_of_depreciation` int(11) NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `is_delete` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `asset_category_account`
--

CREATE TABLE `asset_category_account` (
  `asset_category_account_id` int(10) UNSIGNED NOT NULL,
  `asset_category_id` int(10) UNSIGNED NOT NULL,
  `company_id` int(10) NOT NULL,
  `fixed_asset_account` int(10) NOT NULL,
  `accumulated_depreciation_account` int(10) NOT NULL,
  `depreciation_expense_account` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `def_acc_asset_depriciation`
--

CREATE TABLE `def_acc_asset_depriciation` (
  `def_asset_depriciation_id` int(10) UNSIGNED NOT NULL,
  `depriciation_name` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `acc_asset_category`
--
ALTER TABLE `acc_asset_category`
  ADD PRIMARY KEY (`asset_category_id`),
  ADD KEY `def_asset_depriciation_id` (`def_asset_depriciation_id`);

--
-- Indexes for table `asset_category_account`
--
ALTER TABLE `asset_category_account`
  ADD PRIMARY KEY (`asset_category_account_id`),
  ADD KEY `company_id` (`company_id`,`fixed_asset_account`,`accumulated_depreciation_account`,`depreciation_expense_account`),
  ADD KEY `asset_category_id` (`asset_category_id`);

--
-- Indexes for table `def_acc_asset_depriciation`
--
ALTER TABLE `def_acc_asset_depriciation`
  ADD PRIMARY KEY (`def_asset_depriciation_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `acc_asset_category`
--
ALTER TABLE `acc_asset_category`
  MODIFY `asset_category_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT for table `asset_category_account`
--
ALTER TABLE `asset_category_account`
  MODIFY `asset_category_account_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;
--
-- AUTO_INCREMENT for table `def_acc_asset_depriciation`
--
ALTER TABLE `def_acc_asset_depriciation`
  MODIFY `def_asset_depriciation_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
===============================================================================================================
11-01-2018  BY MANOJ
===============================================================================================================
ALTER TABLE acc_account ADD COLUMN account_no VARCHAR(255) AFTER account_name;
ALTER TABLE `inv_delivery_trip` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `acc_asset_category` ADD FOREIGN KEY (`def_asset_depriciation_id`) REFERENCES `def_acc_asset_depriciation`(`def_asset_depriciation_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `asset_category_account` ADD FOREIGN KEY (`asset_category_id`) REFERENCES `acc_asset_category`(`asset_category_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `asset_category_account` CHANGE `company_id` `company_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `asset_category_account` CHANGE `fixed_asset_account` `fixed_asset_account` INT(10) UNSIGNED NOT NULL, CHANGE `accumulated_depreciation_account` `accumulated_depreciation_account` INT(10) UNSIGNED NOT NULL;

ALTER TABLE `asset_category_account` ADD FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('25', 'Delivery Trip');
ALTER TABLE `hr_salary_slip` ADD `base` DECIMAL(19,2) NOT NULL AFTER `salary_slip_status_id`; 
ALTER TABLE `acc_mode_of_payment` ADD FOREIGN KEY (`mode_of_payment_type_id`) REFERENCES `def_acc_mode_of_payment_type`(`mode_of_payment_type_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_mode_of_payment_account` ADD FOREIGN KEY (`mode_of_payment_id`) REFERENCES `acc_mode_of_payment`(`mode_of_payment_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `acc_mode_of_payment_account` ADD FOREIGN KEY (`company_id`) REFERENCES `set_company`(`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `acc_mode_of_payment_account` ADD FOREIGN KEY (`account_id`) REFERENCES `acc_account`(`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
--
-- Table structure for table `def_hr_emp_advance_status`
--

CREATE TABLE `def_hr_emp_advance_status` (
  `employee_advance_status_id` int(10) UNSIGNED NOT NULL,
  `employee_advance_status` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_hr_emp_advance_status`
--

INSERT INTO `def_hr_emp_advance_status` (`employee_advance_status_id`, `employee_advance_status`) VALUES
(1, 'Paid'),
(2, 'Unpaid'),
(3, 'Draft');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_hr_emp_advance_status`
--
ALTER TABLE `def_hr_emp_advance_status`
  ADD PRIMARY KEY (`employee_advance_status_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_hr_emp_advance_status`
--
ALTER TABLE `def_hr_emp_advance_status`
  MODIFY `employee_advance_status_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

  --
-- Table structure for table `hr_employee_advance`
--

CREATE TABLE `hr_employee_advance` (
  `emp_advance_id` int(10) UNSIGNED NOT NULL,
  `naming_series` varchar(255) NOT NULL,
  `employee_id` int(10) UNSIGNED NOT NULL,
  `posting_date` date NOT NULL,
  `purpose` text NOT NULL,
  `advance_amount` varchar(255) NOT NULL,
  `paid_amount` varchar(255) NOT NULL,
  `claimed_amount` varchar(255) NOT NULL,
  `employee_advance_status_id` int(10) UNSIGNED NOT NULL,
  `account_id` int(10) UNSIGNED NOT NULL,
  `company_id` int(10) UNSIGNED NOT NULL,
  `mode_of_payment_id` int(10) UNSIGNED NOT NULL,
  `created_on` timestamp NULL DEFAULT NULL,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `hr_employee_advance`
--
ALTER TABLE `hr_employee_advance`
  ADD PRIMARY KEY (`emp_advance_id`),
  ADD KEY `employee_id` (`employee_id`),
  ADD KEY `account_id` (`account_id`),
  ADD KEY `company_id` (`company_id`),
  ADD KEY `mode_of_payment_id` (`mode_of_payment_id`),
  ADD KEY `created_by` (`created_by`),
  ADD KEY `updated_by` (`updated_by`),
  ADD KEY `employee_advance_status_id` (`employee_advance_status_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `hr_employee_advance`
--
ALTER TABLE `hr_employee_advance`
  MODIFY `emp_advance_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `hr_employee_advance`
--
ALTER TABLE `hr_employee_advance`
  ADD CONSTRAINT `hr_employee_advance_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `hr_employee` (`employee_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `hr_employee_advance_ibfk_2` FOREIGN KEY (`employee_advance_status_id`) REFERENCES `def_hr_emp_advance_status` (`employee_advance_status_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `hr_employee_advance_ibfk_3` FOREIGN KEY (`account_id`) REFERENCES `acc_account` (`account_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `hr_employee_advance_ibfk_4` FOREIGN KEY (`company_id`) REFERENCES `set_company` (`company_id`) ON DELETE CASCADE ON UPDATE NO ACTION,
  ADD CONSTRAINT `hr_employee_advance_ibfk_5` FOREIGN KEY (`mode_of_payment_id`) REFERENCES `acc_mode_of_payment` (`mode_of_payment_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

  INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('26', 'Employee Advance');
  ALTER TABLE `hr_employee_advance` ADD `is_delete` TINYINT(4) NOT NULL DEFAULT '0' AFTER `updated_by`;

  ALTER TABLE `hr_employee_advance` CHANGE `advance_amount` `advance_amount` DECIMAL(19,2) NOT NULL;
  ALTER TABLE `hr_employee_advance` CHANGE `paid_amount` `paid_amount` DECIMAL(19,2) NOT NULL;
  ALTER TABLE `hr_employee_advance` CHANGE `claimed_amount` `claimed_amount` DECIMAL(19,2) NOT NULL;

--
-- Table structure for table `acc_gst_hsn`
--

CREATE TABLE `acc_gst_hsn` (
  `gst_hsn_id` int(10) UNSIGNED NOT NULL,
  `gst_hsn_code` varchar(255) NOT NULL,
  `description` varchar(255) NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `is_delete` int(11) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `acc_gst_hsn`
--
ALTER TABLE `acc_gst_hsn`
  ADD PRIMARY KEY (`gst_hsn_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `acc_gst_hsn`
--
ALTER TABLE `acc_gst_hsn`
===================================================================================================================
16-01-2018 BY MANOJ
===================================================================================================================
ALTER TABLE `inv_material_request` CHANGE `required_date` `req_date` DATE NOT NULL;
ALTER TABLE man_timesheet DROP FOREIGN KEY man_timesheet_ibfk_2;
ALTER TABLE man_timesheet DROP FOREIGN KEY man_timesheet_ibfk_4;
ALTER TABLE man_timesheet DROP FOREIGN KEY man_timesheet_ibfk_5;
ALTER TABLE man_timesheet_detail DROP FOREIGN KEY man_timesheet_detail_ibfk_3;
ALTER TABLE man_timesheet_detail DROP FOREIGN KEY man_timesheet_detail_ibfk_4;
ALTER TABLE man_timesheet_detail DROP FOREIGN KEY man_timesheet_detail_ibfk_6;
==================================================================================================================
17-01-2018 BY MANOJ
=================================================================================================================

ALTER TABLE `inv_item_uom_conversion` DROP FOREIGN KEY `inv_item_uom_conversion_ibfk_2`; 
ALTER TABLE `inv_item_uom_conversion` ADD CONSTRAINT `inv_item_uom_conversion_ibfk_2` FOREIGN KEY (`uom_id`) REFERENCES `set_uom`(`uom_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
=====================================================================================================================
18-01-2018 BY MANOJ
=====================================================================================================================
ALTER TABLE pur_order_add_amount DROP FOREIGN KEY order_add_amount;
ALTER TABLE `pur_order_add_amount` DROP `order_id`, DROP `add_amount_id`;
ALTER TABLE `pur_order_add_amount` ADD `add_amount_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT FIRST, ADD PRIMARY KEY (`add_amount_id`);
ALTER TABLE `pur_order_add_amount` ADD `order_id` INT(10) UNSIGNED NOT NULL AFTER `add_amount_id`, ADD INDEX (`order_id`);
ALTER TABLE `sales_quotation` CHANGE `net_rate` `net_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `rate` `rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `base_net_amount` `base_net_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `net_rate` `net_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `net_amount` `net_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `base_rate` `base_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `base_net_rate` `base_net_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_item` CHANGE `base_amount` `base_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `base_taxes_and_charges` `base_taxes_and_charges` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `total_taxes_and_charges` `total_taxes_and_charges` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `base_discount_amount` `base_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `additional_discount_percentage` `additional_discount_percentage` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `discount_amount` `discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `base_grand_total` `base_grand_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `base_rounded_total` `base_rounded_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `grand_total` `grand_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_tax` CHANGE `rounded_total` `rounded_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `ratetax` `ratetax` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `tax_amount` `tax_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `total` `total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `tax_amount_after_discount_amount` `tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `base_tax_amount` `base_tax_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_sales_taxes` CHANGE `base_tax_amount_after_discount_amount` `base_tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `quotation_shipping_rule` CHANGE `shipping_amount` `shipping_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_price` CHANGE `price_list_rate` `price_list_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item` CHANGE `opening_stock` `opening_stock` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item` CHANGE `valuation_rate` `valuation_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item` CHANGE `standard_rate` `standard_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item` CHANGE `tolerance` `tolerance` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_attribute` CHANGE `from_range` `from_range` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_attribute` CHANGE `increment` `increment` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_attribute` CHANGE `to_range` `to_range` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_inventory` CHANGE `net_weight` `net_weight` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_order_amount` DROP FOREIGN KEY `amount_id`; ALTER TABLE `pur_order_amount` ADD CONSTRAINT `amount_id` FOREIGN KEY (`order_id`) REFERENCES `pur_purchase_order`(`order_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_item_purchase_details` CHANGE `min_order_qty` `min_order_qty` DECIMAL(19,2) NOT NULL, CHANGE `min_stock_qty` `min_stock_qty` DECIMAL(19,2) NOT NULL, CHANGE `safety_stock` `safety_stock` DECIMAL(19,2) NOT NULL, CHANGE `last_purchase_rate` `last_purchase_rate` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_reorder` CHANGE `warehouse_reorder_level` `warehouse_reorder_level` DECIMAL(19,2) NOT NULL, CHANGE `warehouse_reorder_qty` `warehouse_reorder_qty` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_sales_details` CHANGE `max_discount` `max_discount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_item_uom_conversion` CHANGE `conversion_factor` `conversion_factor` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_order_taxes_details` CHANGE `ratetax` `ratetax` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount` `tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `total` `total` DECIMAL(19,2) NOT NULL, CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount_after_discount_amount` `tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount` `base_tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount_after_discount_amount` `base_tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_purchase_receipt` CHANGE `conversion_rate` `conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `plc_conversion_rate` `plc_conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `net_total` `net_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_purchase_receipt_item` CHANGE `received_qty` `received_qty` DECIMAL(19,2) NOT NULL, CHANGE `qty` `qty` DECIMAL(19,2) NOT NULL, CHANGE `rejected_qty` `rejected_qty` DECIMAL(19,2) NOT NULL, CHANGE `price_list_rate` `price_list_rate` DECIMAL(19,2) NOT NULL, CHANGE `rate` `rate` DECIMAL(19,2) NOT NULL, CHANGE `amount` `amount` DECIMAL(19,2) NOT NULL, CHANGE `stock_qty` `stock_qty` DECIMAL(19,2) NOT NULL, CHANGE `billed_amt` `billed_amt` DECIMAL(19,2) NOT NULL, CHANGE `landed_cost_voucher_amount` `landed_cost_voucher_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_purchase_receipt_tax_charges` CHANGE `tax_rate` `tax_rate` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount_after_discount_amount` `tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `tax_total` `tax_total` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount` `tax_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_purchase_receipt_tax_section` CHANGE `taxes_and_charges_added` `taxes_and_charges_added` DECIMAL(19,2) NOT NULL, CHANGE `taxes_and_charges_deducted` `taxes_and_charges_deducted` DECIMAL(19,2) NOT NULL, CHANGE `total_taxes_and_charges` `total_taxes_and_charges` DECIMAL(19,2) NOT NULL, CHANGE `additional_discount_percentage` `additional_discount_percentage` DECIMAL(19,2) NOT NULL, CHANGE `discount_amount` `discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `grand_total` `grand_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_supplier_quotation_item` CHANGE `quantity_and_rate` `quantity_and_rate` DECIMAL(19,2) NOT NULL, CHANGE `price_list_rate` `price_list_rate` DECIMAL(19,2) NOT NULL, CHANGE `discount_percentage` `discount_percentage` DECIMAL(19,2) NOT NULL, CHANGE `conversion_factor` `conversion_factor` DECIMAL(19,2) NOT NULL, CHANGE `base_price_list_rate` `base_price_list_rate` DECIMAL(19,2) NOT NULL, CHANGE `rate` `rate` DECIMAL(19,2) NOT NULL, CHANGE `amount` `amount` DECIMAL(19,2) NOT NULL, CHANGE `base_rate` `base_rate` DECIMAL(19,2) NOT NULL, CHANGE `base_amount` `base_amount` DECIMAL(19,2) NOT NULL, CHANGE `net_rate` `net_rate` DECIMAL(19,2) NOT NULL, CHANGE `net_amount` `net_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_net_rate` `base_net_rate` DECIMAL(19,2) NOT NULL, CHANGE `item_tax_rate` `item_tax_rate` DECIMAL(19,2) NOT NULL, CHANGE `stock_qty` `stock_qty` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_quotation_currency_price_list` CHANGE `conversion_rate` `conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `plc_conversion_rate` `plc_conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL, CHANGE `base_net_total` `base_net_total` DECIMAL(19,2) NOT NULL, CHANGE `total` `total` DECIMAL(19,2) NOT NULL, CHANGE `net_total` `net_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_supplier_quotation_item` CHANGE `base_net_amount` `base_net_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_supplier_quo_currency_pricelist` CHANGE `conversion_rate` `conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `plc_conversion_rate` `plc_conversion_rate` DECIMAL(19,2) NOT NULL, CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL, CHANGE `total` `total` DECIMAL(19,2) NOT NULL, CHANGE `net_total` `net_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_supplier_quo_tax` CHANGE `base_taxes_and_charges_added` `base_taxes_and_charges_added` DECIMAL(19,2) NOT NULL, CHANGE `base_taxes_and_charges_deducted` `base_taxes_and_charges_deducted` DECIMAL(19,2) NOT NULL, CHANGE `base_total_taxes_and_charges` `base_total_taxes_and_charges` DECIMAL(19,2) NOT NULL, CHANGE `taxes_and_charges_added` `taxes_and_charges_added` DECIMAL(19,2) NOT NULL, CHANGE `taxes_and_charges_deducted` `taxes_and_charges_deducted` DECIMAL(19,2) NOT NULL, CHANGE `total_taxes_and_charges` `total_taxes_and_charges` DECIMAL(19,2) NOT NULL, CHANGE `base_discount_amount` `base_discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `additional_discount_percentage` `additional_discount_percentage` DECIMAL(19,2) NOT NULL, CHANGE `discount_amount` `discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_grand_total` `base_grand_total` DECIMAL(19,2) NOT NULL, CHANGE `base_rounded_total` `base_rounded_total` DECIMAL(19,2) NOT NULL, CHANGE `grand_total` `grand_total` DECIMAL(19,2) NOT NULL;
ALTER TABLE `pur_supplier_quo_tax_details` CHANGE `tax_amount` `tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount_after_discount_amount` `tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `total` `total` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount` `base_tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount_after_discount_amount` `base_tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_order_additional_discount` CHANGE `commission_rate` `commission_rate` DECIMAL(19,2) NOT NULL, CHANGE `total_commission` `total_commission` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_order_item_detail` CHANGE `projected_qty` `projected_qty` DECIMAL(19,2) NOT NULL, CHANGE `actual_qty` `actual_qty` DECIMAL(19,2) NOT NULL, CHANGE `ordered_qty` `ordered_qty` DECIMAL(19,2) NOT NULL, CHANGE `delivered_qty` `delivered_qty` DECIMAL(19,2) NOT NULL, CHANGE `returned_qty` `returned_qty` DECIMAL(19,2) NOT NULL, CHANGE `billed_amt` `billed_amt` DECIMAL(19,2) NOT NULL, CHANGE `valuation_rate` `valuation_rate` DECIMAL(19,2) NOT NULL, CHANGE `gross_profit` `gross_profit` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_order_sales_team` CHANGE `allocated_percentage` `allocated_percentage` DECIMAL(19,2) NOT NULL, CHANGE `allocated_amount` `allocated_amount` DECIMAL(19,2) NOT NULL, CHANGE `incentives` `incentives` DECIMAL(19,2) NOT NULL;
ALTER TABLE `sales_order_taxes_details` CHANGE `ratetax` `ratetax` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount` `tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `total` `total` DECIMAL(19,2) NOT NULL, CHANGE `base_total` `base_total` DECIMAL(19,2) NOT NULL, CHANGE `tax_amount_after_discount_amount` `tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount` `base_tax_amount` DECIMAL(19,2) NOT NULL, CHANGE `base_tax_amount_after_discount_amount` `base_tax_amount_after_discount_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_stock_entry` CHANGE `fg_completed_qty` `fg_completed_qty` DECIMAL(19,2) NOT NULL;
ALTER TABLE `inv_stock_entry_additional_costs` CHANGE `amount` `amount` DECIMAL(19,2) NOT NULL;
======================================================================================================
19-01-2018 BY MANOJ
======================================================================================================
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (27, 'Timesheet');
======================================================================================================
20-01-2018 BY MANOJ
======================================================================================================
ALTER TABLE `pro_task` ADD `parent_task_id` INT(10) NULL AFTER `naming_series`;
ALTER TABLE `pro_task` ADD `is_group` TINYINT(4) NOT NULL AFTER `parent_task_id`;
--
-- Table structure for table `def_maintenance_status`
--

CREATE TABLE `def_maintenance_status` (
  `maintenance_status_id` int(10) UNSIGNED NOT NULL,
  `maintenance_status` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_maintenance_status`
--

INSERT INTO `def_maintenance_status` (`maintenance_status_id`, `maintenance_status`) VALUES
(1, 'Draft'),
(2, 'Submitted'),
(3, 'Cancelled');

-- --------------------------------------------------------

--
-- Table structure for table `def_main_schedule_periodicity`
--

CREATE TABLE `def_main_schedule_periodicity` (
  `periodicity_id` int(10) UNSIGNED NOT NULL,
  `periodicity` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_main_schedule_periodicity`
--

INSERT INTO `def_main_schedule_periodicity` (`periodicity_id`, `periodicity`) VALUES
(1, 'Weekly'),
(2, 'Monthly'),
(3, 'Quarterly'),
(4, 'Half yearly'),
(5, 'Yearly'),
(6, 'Random');

-- --------------------------------------------------------

--
-- Table structure for table `def_main_visit_completion_status`
--

CREATE TABLE `def_main_visit_completion_status` (
  `completion_status_id` int(10) UNSIGNED NOT NULL,
  `completion_status` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_main_visit_completion_status`
--

INSERT INTO `def_main_visit_completion_status` (`completion_status_id`, `completion_status`) VALUES
(1, 'Partially Completed'),
(2, 'Fully Completed');

-- --------------------------------------------------------

--
-- Table structure for table `def_main_visit_maintenance_type`
--

CREATE TABLE `def_main_visit_maintenance_type` (
  `maintenance_type_id` int(10) UNSIGNED NOT NULL,
  `maintenance_type` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_main_visit_maintenance_type`
--

INSERT INTO `def_main_visit_maintenance_type` (`maintenance_type_id`, `maintenance_type`) VALUES
(1, 'Scheduled'),
(2, 'Unscheduled'),
(3, 'Breakdown');

-- --------------------------------------------------------

--
-- Table structure for table `main_schedule`
--

CREATE TABLE `main_schedule` (
  `main_schedule_id` int(10) UNSIGNED NOT NULL,
  `customer_id` int(10) UNSIGNED NOT NULL,
  `maintenance_status_id` int(10) UNSIGNED NOT NULL,
  `transaction_date` date NOT NULL,
  `contact_person_id` int(10) UNSIGNED NOT NULL,
  `customer_group` varchar(255) NOT NULL,
  `territory_id` int(10) UNSIGNED NOT NULL,
  `company_id` int(10) UNSIGNED NOT NULL,
  `created_by` int(10) UNSIGNED NOT NULL,
  `created_on` timestamp NULL DEFAULT NULL,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `is_delete` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `main_schedule_item`
--

CREATE TABLE `main_schedule_item` (
  `main_schedule_item_id` int(10) UNSIGNED NOT NULL,
  `main_schedule_id` int(10) UNSIGNED NOT NULL,
  `item_id` int(10) UNSIGNED NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date NOT NULL,
  `periodicity_id` int(10) UNSIGNED NOT NULL,
  `no_of_visits` varchar(255) NOT NULL,
  `sales_person_id` int(10) UNSIGNED NOT NULL,
  `serial_no` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `main_visit`
--

CREATE TABLE `main_visit` (
  `main_visit_id` int(10) UNSIGNED NOT NULL,
  `maintenance_date` date NOT NULL,
  `maintenance_time` time NOT NULL,
  `customer_id` int(10) UNSIGNED NOT NULL,
  `completion_status_id` int(10) UNSIGNED NOT NULL,
  `maintenance_type_id` int(10) UNSIGNED NOT NULL,
  `customer_feedback` text NOT NULL,
  `maintenance_status_id` int(10) UNSIGNED NOT NULL,
  `company_id` int(10) UNSIGNED NOT NULL,
  `created_by` int(10) UNSIGNED NOT NULL,
  `created_on` timestamp NULL DEFAULT NULL,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `is_delete` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `main_visit_item`
--

CREATE TABLE `main_visit_item` (
  `main_visit_item_id` int(10) UNSIGNED NOT NULL,
  `main_visit_id` int(10) UNSIGNED NOT NULL,
  `item_id` int(10) UNSIGNED NOT NULL,
  `serial_no` text NOT NULL,
  `description` text NOT NULL,
  `sales_person_id` int(10) UNSIGNED NOT NULL,
  `work_done` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_maintenance_status`
--
ALTER TABLE `def_maintenance_status`
  ADD PRIMARY KEY (`maintenance_status_id`);

--
-- Indexes for table `def_main_schedule_periodicity`
--
ALTER TABLE `def_main_schedule_periodicity`
  ADD PRIMARY KEY (`periodicity_id`);

--
-- Indexes for table `def_main_visit_completion_status`
--
ALTER TABLE `def_main_visit_completion_status`
  ADD PRIMARY KEY (`completion_status_id`);

--
-- Indexes for table `def_main_visit_maintenance_type`
--
ALTER TABLE `def_main_visit_maintenance_type`
  ADD PRIMARY KEY (`maintenance_type_id`);

--
-- Indexes for table `main_schedule`
--
ALTER TABLE `main_schedule`
  ADD PRIMARY KEY (`main_schedule_id`),
  ADD KEY `customer_id` (`customer_id`),
  ADD KEY `contact_person_id` (`contact_person_id`),
  ADD KEY `territory_id` (`territory_id`),
  ADD KEY `company_id` (`company_id`),
  ADD KEY `created_by` (`created_by`),
  ADD KEY `updated_by` (`updated_by`),
  ADD KEY `maintenance_status_id` (`maintenance_status_id`);

--
-- Indexes for table `main_schedule_item`
--
ALTER TABLE `main_schedule_item`
  ADD PRIMARY KEY (`main_schedule_item_id`),
  ADD KEY `main_schedule_id` (`main_schedule_id`),
  ADD KEY `item_id` (`item_id`),
  ADD KEY `periodicity_id` (`periodicity_id`),
  ADD KEY `sales_person_id` (`sales_person_id`);

--
-- Indexes for table `main_visit`
--
ALTER TABLE `main_visit`
  ADD PRIMARY KEY (`main_visit_id`),
  ADD KEY `customer_id` (`customer_id`),
  ADD KEY `completion_status_id` (`completion_status_id`),
  ADD KEY `maintenance_type_id` (`maintenance_type_id`),
  ADD KEY `company_id` (`company_id`),
  ADD KEY `created_by` (`created_by`),
  ADD KEY `updated_by` (`updated_by`),
  ADD KEY `maintenance_status_id` (`maintenance_status_id`);

--
-- Indexes for table `main_visit_item`
--
ALTER TABLE `main_visit_item`
  ADD PRIMARY KEY (`main_visit_item_id`),
  ADD KEY `main_visit_id` (`main_visit_id`),
  ADD KEY `item_id` (`item_id`),
  ADD KEY `sales_person_id` (`sales_person_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_maintenance_status`
--
ALTER TABLE `def_maintenance_status`
  MODIFY `maintenance_status_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `def_main_schedule_periodicity`
--
ALTER TABLE `def_main_schedule_periodicity`
  MODIFY `periodicity_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;
--
-- AUTO_INCREMENT for table `def_main_visit_completion_status`
--
ALTER TABLE `def_main_visit_completion_status`
  MODIFY `completion_status_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT for table `def_main_visit_maintenance_type`
--
ALTER TABLE `def_main_visit_maintenance_type`
  MODIFY `maintenance_type_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `main_schedule`
--
ALTER TABLE `main_schedule`
  MODIFY `main_schedule_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `main_schedule_item`
--
ALTER TABLE `main_schedule_item`
  MODIFY `main_schedule_item_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `main_visit`
--
ALTER TABLE `main_visit`
  MODIFY `main_visit_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- AUTO_INCREMENT for table `main_visit_item`
--
ALTER TABLE `main_visit_item`
  MODIFY `main_visit_item_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE `main_schedule` ADD `customer_address_id` INT(10) UNSIGNED NOT NULL AFTER `contact_person_id`, ADD INDEX (`customer_address_id`);
ALTER TABLE `main_schedule` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `main_schedule_id`;
ALTER TABLE `main_visit` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `main_visit_id`;
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (28, 'Maintenance Visit'), (29, 'Maintenance Schedule');
ALTER TABLE `main_schedule` ADD FOREIGN KEY (`customer_id`) REFERENCES `crm_customer`(`customer_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `main_schedule` ADD FOREIGN KEY (`territory_id`) REFERENCES `sales_territory`(`territory_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `main_schedule_item` ADD FOREIGN KEY (`main_schedule_id`) REFERENCES `main_schedule`(`main_schedule_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `main_schedule_item` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION; ALTER TABLE `main_schedule_item` ADD FOREIGN KEY (`periodicity_id`) REFERENCES `def_main_schedule_periodicity`(`periodicity_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
==========================================================================================================
23-01-2018 BY MANOJ
==========================================================================================================
ALTER TABLE `menus` ADD `is_active` TINYINT(4) NOT NULL AFTER `number`;
ALTER TABLE `inv_item` ADD `item_status` INT(11) UNSIGNED NOT NULL AFTER `is_delete`;
ALTER TABLE `menus` CHANGE `is_active` `is_active` TINYINT(4) NOT NULL DEFAULT '1';
UPDATE menus SET is_active = 1;
ALTER TABLE `pur_supplier` ADD `pay_term_template_id` INT(10) UNSIGNED NOT NULL AFTER `price_list_id`, ADD INDEX (`pay_term_template_id`);
CREATE TABLE `def_inv_req_for_quo_supplier_from` (
  `supplier_from_id` int(10) UNSIGNED NOT NULL,
  `supplier_from` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_inv_req_for_quo_supplier_from`
--

INSERT INTO `def_inv_req_for_quo_supplier_from` (`supplier_from_id`, `supplier_from`) VALUES
(1, 'Tag'),
(2, 'Supplier Type');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_inv_req_for_quo_supplier_from`
--
ALTER TABLE `def_inv_req_for_quo_supplier_from`
  ADD PRIMARY KEY (`supplier_from_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_inv_req_for_quo_supplier_from`
--
ALTER TABLE `def_inv_req_for_quo_supplier_from`
  MODIFY `supplier_from_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
======================================================================================================
24-01-2018 BY MANOJ
======================================================================================================
ALTER TABLE hr_salary_slip DROP FOREIGN KEY hr_salary_slip_ibfk_2;
ALTER TABLE hr_salary_slip DROP FOREIGN KEY hr_salary_slip_ibfk_3;
ALTER TABLE hr_salary_slip DROP FOREIGN KEY hr_salary_slip_ibfk_4;
ALTER TABLE hr_salary_slip DROP FOREIGN KEY hr_salary_slip_ibfk_5;
======================================================================================================
25-01-2018 BY MANOJ
======================================================================================================
--
-- Table structure for table `def_inv_mat_req_make`
--

CREATE TABLE `def_inv_mat_req_make` (
  `mat_req_make_id` int(10) UNSIGNED NOT NULL,
  `mat_req_make_for` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_inv_mat_req_make`
--

INSERT INTO `def_inv_mat_req_make` (`mat_req_make_id`, `mat_req_make_for`) VALUES
(1, 'Purchase Order'),
(2, 'Request for Quotation'),
(3, 'Supplier Quotation');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_inv_mat_req_make`
--
ALTER TABLE `def_inv_mat_req_make`
  ADD PRIMARY KEY (`mat_req_make_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_inv_mat_req_make`
--
ALTER TABLE `def_inv_mat_req_make`
  MODIFY `mat_req_make_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- Table structure for table `inv_stock_reconciliation`
--

CREATE TABLE `inv_stock_reconciliation` (
  `stock_reconciliation_id` int(10) UNSIGNED NOT NULL,
  `naming_series` varchar(250) NOT NULL,
  `company_id` int(11) NOT NULL,
  `posting_date` date NOT NULL,
  `posting_time` time NOT NULL,
  `set_posting_time` tinyint(4) NOT NULL,
  `expense_account` int(11) NOT NULL,
  `cost_center_id` int(11) NOT NULL,
  `reconciliation_json` text NOT NULL,
  `difference_amount` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_stock_reconciliation`
--
ALTER TABLE `inv_stock_reconciliation`
  ADD PRIMARY KEY (`stock_reconciliation_id`),
  ADD KEY `company_id` (`company_id`),
  ADD KEY `cost_center` (`cost_center_id`),
  ADD KEY `expense_account` (`expense_account`),
  ADD KEY `difference_amount` (`difference_amount`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_stock_reconciliation`
--
ALTER TABLE `inv_stock_reconciliation`
  MODIFY `stock_reconciliation_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;
--
-- Table structure for table `inv_stock_reconciliation_items`
--

CREATE TABLE `inv_stock_reconciliation_items` (
  `stock_reconciliation_items_id` int(10) UNSIGNED NOT NULL,
  `stock_reconciliation_id` int(10) UNSIGNED NOT NULL,
  `item_code` int(10) UNSIGNED NOT NULL,
  `warehouse_id` int(11) NOT NULL,
  `qty` int(11) NOT NULL,
  `valuation_rate` decimal(19,2) NOT NULL,
  `amount` decimal(19,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_stock_reconciliation_items`
--
ALTER TABLE `inv_stock_reconciliation_items`
  ADD PRIMARY KEY (`stock_reconciliation_items_id`),
  ADD KEY `stock_reconciliation_id` (`stock_reconciliation_id`),
  ADD KEY `item_code` (`item_code`),
  ADD KEY `warehouse_id` (`warehouse_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_stock_reconciliation_items`
--
ALTER TABLE `inv_stock_reconciliation_items`
  MODIFY `stock_reconciliation_items_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;
======================================================================================================
29-01-2018 BY MANOJ
======================================================================================================
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('30', 'Stock Reconciliation');
ALTER TABLE `sales_selling_settings` ADD INDEX(`selling_set_customer_naming_by_id`);
ALTER TABLE `sales_selling_settings` ADD INDEX(`selling_set_campaign_naming_by_id`);
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('31', 'Customer ');
======================================================================================================
30-01-2018 BY MANOJ
======================================================================================================
ALTER TABLE inv_stock_settings DROP FOREIGN KEY inv_stock_settings_ibfk_1;
ALTER TABLE inv_stock_settings DROP FOREIGN KEY inv_stock_settings_ibfk_2;
ALTER TABLE inv_stock_settings DROP FOREIGN KEY inv_stock_settings_ibfk_3;
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES ('32', 'Item ') ;
======================================================================================================
01-02-2018 BY MANOJ
======================================================================================================
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_2;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_3;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_4;
ALTER TABLE man_production_order DROP FOREIGN KEY man_production_order_ibfk_5;
ALTER TABLE man_production_order_required_items DROP FOREIGN KEY man_production_order_required_items_ibfk_2;


CREATE TABLE `man_pro_planning_tool` (
  `pro_planning_tool_id` int(10) UNSIGNED NOT NULL,
  `production_planning_get_items_from_id` int(10) NOT NULL,
  `ppt_item_id` int(10) UNSIGNED NOT NULL,
  `warehouse_id` int(10) UNSIGNED NOT NULL,
  `ppt_customer_id` int(10) UNSIGNED NOT NULL,
  `company_id` int(10) UNSIGNED NOT NULL,
  `project_id` int(10) UNSIGNED NOT NULL,
  `from_date` date NOT NULL,
  `to_date` date NOT NULL,
  `purchase_request_for_warehouse_id` int(10) UNSIGNED NOT NULL,
  `create_material_requests_non_stock_request` tinyint(4) NOT NULL,
  `use_multi_level_bom` tinyint(4) NOT NULL,
  `only_raw_materials` tinyint(4) NOT NULL,
  `include_subcontracted` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `man_pro_planning_tool`
  ADD PRIMARY KEY (`pro_planning_tool_id`),
  ADD KEY `item_id` (`ppt_item_id`),
  ADD KEY `warehouse_id` (`warehouse_id`),
  ADD KEY `customer_id` (`ppt_customer_id`),
  ADD KEY `company_id` (`company_id`),
  ADD KEY `project_id` (`project_id`),
  ADD KEY `purchase_request_for_warehouse_id` (`purchase_request_for_warehouse_id`),
  ADD KEY `production_planning_get_items_from_id` (`production_planning_get_items_from_id`);

ALTER TABLE `man_pro_planning_tool`
  MODIFY `pro_planning_tool_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

  CREATE TABLE `man_pro_planning_item` (
  `pro_planning_item_id` int(10) UNSIGNED NOT NULL,
  `pro_planning_tool_id` int(10) UNSIGNED NOT NULL,
  `item_id` int(10) UNSIGNED NOT NULL,
  `bom_id` int(10) UNSIGNED NOT NULL,
  `planned_qty` decimal(19,2) NOT NULL,
  `planned_start_date` date NOT NULL,
  `warehouse_id` int(10) UNSIGNED NOT NULL,
  `sales_order_id` int(10) UNSIGNED NOT NULL,
  `material_request_id` int(10) UNSIGNED NOT NULL,
  `pending_qty` decimal(19,2) NOT NULL,
  `uom_id` int(10) UNSIGNED NOT NULL,
  `description` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


CREATE TABLE `man_pro_plan_material_request` (
  `pro_plan_material_request_id` int(10) UNSIGNED NOT NULL,
  `pro_planning_tool_id` int(10) UNSIGNED NOT NULL,
  `material_request_id` int(10) UNSIGNED NOT NULL,
  `material_request_date` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



CREATE TABLE `man_pro_plan_sales_order` (
  `pro_plan_sales_order_id` int(10) UNSIGNED NOT NULL,
  `pro_planning_tool_id` int(10) UNSIGNED NOT NULL,
  `sales_order_id` int(10) UNSIGNED NOT NULL,
  `sales_order_date` date NOT NULL,
  `customer_id` int(10) UNSIGNED NOT NULL,
  `grand_total` decimal(19,2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


ALTER TABLE `man_pro_planning_item`
  ADD PRIMARY KEY (`pro_planning_item_id`),
  ADD KEY `pro_planning_tool_id` (`pro_planning_tool_id`),
  ADD KEY `item_id` (`item_id`),
  ADD KEY `bom_id` (`bom_id`),
  ADD KEY `warehouse_id` (`warehouse_id`),
  ADD KEY `sales_order_id` (`sales_order_id`),
  ADD KEY `material_request_id` (`material_request_id`),
  ADD KEY `uom_id` (`uom_id`);


ALTER TABLE `man_pro_plan_material_request`
  ADD PRIMARY KEY (`pro_plan_material_request_id`),
  ADD KEY `pro_planning_tool_id` (`pro_planning_tool_id`),
  ADD KEY `material_request_id` (`material_request_id`);


ALTER TABLE `man_pro_plan_sales_order`
  ADD PRIMARY KEY (`pro_plan_sales_order_id`),
  ADD KEY `pro_planning_tool_id` (`pro_planning_tool_id`),
  ADD KEY `sales_order_id` (`sales_order_id`),
  ADD KEY `customer_id` (`customer_id`);


ALTER TABLE `man_pro_planning_item`
  MODIFY `pro_planning_item_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `man_pro_plan_material_request`
  MODIFY `pro_plan_material_request_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;

ALTER TABLE `man_pro_plan_sales_order`
  MODIFY `pro_plan_sales_order_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

  --
-- Table structure for table `inv_packing_slip`
--

CREATE TABLE `inv_packing_slip` (
  `packing_slip_id` int(10) UNSIGNED NOT NULL,
  `delivery_note_id` int(10) UNSIGNED NOT NULL,
  `naming_series` varchar(250) NOT NULL,
  `from_package_no` varchar(250) NOT NULL,
  `to_package_no` varchar(250) NOT NULL,
  `net_weight_pkg` float(19,2) NOT NULL,
  `net_weight_uom` int(10) UNSIGNED NOT NULL,
  `gross_weight_pkg` float(19,2) NOT NULL,
  `gross_weight_uom` int(10) UNSIGNED NOT NULL,
  `letter_head_id` int(10) UNSIGNED NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `created_by` int(10) UNSIGNED NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_by` int(10) UNSIGNED NOT NULL,
  `is_delete` int(11) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `inv_packing_slip_item`
--

CREATE TABLE `inv_packing_slip_item` (
  `packing_slip_item_id` int(10) UNSIGNED NOT NULL,
  `packing_slip_id` int(10) UNSIGNED NOT NULL,
  `item_code` int(10) UNSIGNED NOT NULL,
  `batch_no` int(10) UNSIGNED NOT NULL,
  `description` text NOT NULL,
  `qty` decimal(19,2) NOT NULL,
  `net_weight` decimal(19,2) NOT NULL,
  `stock_uom` int(10) UNSIGNED NOT NULL,
  `weight_uom` int(10) UNSIGNED NOT NULL,
  `page_break` tinyint(4) NOT NULL,
  `dn_detail` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_packing_slip`
--
ALTER TABLE `inv_packing_slip`
  ADD PRIMARY KEY (`packing_slip_id`),
  ADD KEY `delivery_note_id` (`delivery_note_id`),
  ADD KEY `net_weight_uom` (`net_weight_uom`),
  ADD KEY `gross_weight_uom` (`gross_weight_uom`),
  ADD KEY `letter_head` (`letter_head_id`);

--
-- Indexes for table `inv_packing_slip_item`
--
ALTER TABLE `inv_packing_slip_item`
  ADD PRIMARY KEY (`packing_slip_item_id`),
  ADD KEY `packing_slip_id` (`packing_slip_id`),
  ADD KEY `item_code` (`item_code`),
  ADD KEY `batch_no` (`batch_no`),
  ADD KEY `weight_uom` (`weight_uom`),
  ADD KEY `stock_uom` (`stock_uom`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_packing_slip`
--
ALTER TABLE `inv_packing_slip`
  MODIFY `packing_slip_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=17;
--
-- AUTO_INCREMENT for table `inv_packing_slip_item`
--
ALTER TABLE `inv_packing_slip_item`
  MODIFY `packing_slip_item_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

ALTER TABLE `set_terms_conditions` ADD `is_default` TINYINT(4) NOT NULL AFTER `disabled`; 
============================================================================================================================================================================================================
ALTER TABLE inv_price_list DROP FOREIGN KEY inv_price_list_ibfk_1;
ALTER TABLE inv_price_list DROP COLUMN country_id;
ALTER TABLE `product_bundle_item` CHANGE `rate` `item_name` VARCHAR(250) NOT NULL;
ALTER TABLE `inv_price_list` ADD `price_not_uom_depentent` TINYINT(4) NOT NULL AFTER `selling`;
--
-- Table structure for table `inv_price_list_country`
--

CREATE TABLE `inv_price_list_country` (
  `price_list_country_id` int(10) UNSIGNED NOT NULL,
  `price_list_id` int(10) UNSIGNED NOT NULL,
  `country_id` int(10) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `inv_price_list_country`
--
ALTER TABLE `inv_price_list_country`
  ADD PRIMARY KEY (`price_list_country_id`),
  ADD KEY `price_list_id` (`price_list_id`),
  ADD KEY `country_id` (`country_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `inv_price_list_country`
--
ALTER TABLE `inv_price_list_country`
  MODIFY `price_list_country_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `inv_price_list_country`
--
ALTER TABLE `inv_price_list_country`
  ADD CONSTRAINT `inv_price_list_country_ibfk_1` FOREIGN KEY (`price_list_id`) REFERENCES `inv_price_list` (`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `inv_price_list_country` ADD FOREIGN KEY (`price_list_id`) REFERENCES `inv_price_list`(`price_list_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
===========================================================================================================
03-02-2018
===========================================================================================================
ALTER TABLE `pur_buying_settings` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL, CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
=======================================================================================================
06-02-2018
=======================================================================================================
ALTER TABLE `user_address` ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `user_logs` ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `user_phone` ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `user_profile` ADD FOREIGN KEY (`user_id`) REFERENCES `users`(`user_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
=================================================================================================================
07-02-2018
=================================================================================================================
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'About Us Settings');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Account'), (NULL, 'Accounts Settings'), (NULL, 'Activity Cost'), (NULL, 'Activity Log'), (NULL, 'Activity Type'), (NULL, 'Address'), (NULL, 'Address Template'), (NULL, 'Appraisal Template'), (NULL, 'Asset'), (NULL, 'Asset Category'), (NULL, 'Asset Maintenance'), (NULL, 'Asset Maintenance Log'), (NULL, 'Asset Maintenance Team'), (NULL, 'Asset Movement'), (NULL, 'Asset Repair'), (NULL, 'Authorization Rule'), (NULL, 'Auto Email Report'), (NULL, 'BOM Update Tool'), (NULL, 'Bank Guarantee'), (NULL, 'Bank Reconciliation'), (NULL, 'Batch'), (NULL, 'Bin'), (NULL, 'Blog Post'), (NULL, 'Branch'), (NULL, 'Brand'), (NULL, 'Budget'), (NULL, 'Bulk Update'), (NULL, 'Buying Settings'), (NULL, 'C-Form'), (NULL, 'Calendar View'), (NULL, 'Cheque Print Template'), (NULL, 'Communication'), (NULL, 'Company'), (NULL, 'Contact'), (NULL, 'Contact Us Settings'), (NULL, 'Cost Center'), (NULL, 'Country'), (NULL, 'Currency'), (NULL, 'Currency Exchange'), (NULL, 'Custom Field');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Custom Role'), (NULL, 'Custom Script'), (NULL, 'Customer Group'), (NULL, 'Customize Form'), (NULL, 'Customs Tariff Number'), (NULL, 'Daily Work Summary'), (NULL, 'Daily Work Summary Settings'), (NULL, 'Data Import'), (NULL, 'Department'), (NULL, 'Designation'), (NULL, 'Desktop Icon'), (NULL, 'Driver'), (NULL, 'Email Account'), (NULL, 'Email Alert'), (NULL, 'Email Digest'), (NULL, 'Email Domain'), (NULL, 'Email Flag Queue'), (NULL, 'Email Group'), (NULL, 'Email Group Member'), (NULL, 'Email Queue'), (NULL, 'Email Rule'), (NULL, 'Email Unsubscrib'), (NULL, 'Employee Attendance Tool'), (NULL, 'Employee Loan'), (NULL, 'Employee Loan Application'), (NULL, 'Employment Type'), (NULL, 'Event'), (NULL, 'Expense Claim Type'), (NULL, 'Feedback Request'), (NULL, 'Feedback Trigger'), (NULL, 'Fiscal Year'), (NULL, 'GL Entry'), (NULL, 'GST HSN Code'), (NULL, 'GST Settings'), (NULL, 'Gender'), (NULL, 'Global Defaults'), (NULL, 'Google Maps'), (NULL, 'HR Settings'), (NULL, 'Help Article'), (NULL, 'Help Category');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Holiday List'), (NULL, 'Industry Type'), (NULL, 'Installation Note'), (NULL, 'Interest'), (NULL, 'Issue'), (NULL, 'Issue Type'), (NULL, 'Item Attribute'), (NULL, 'Item Group'), (NULL, 'Item Price'), (NULL, 'Item Variant Settings'), (NULL, 'Job Applicant'), (NULL, 'Job Opening'), (NULL, 'Journal Entry'), (NULL, 'Landed Cost Voucher'), (NULL, 'Language'), (NULL, 'Lead Source'), (NULL, 'Leave Block List'), (NULL, 'Leave Control Panel'), (NULL, 'Leave Type'), (NULL, 'Letter Head'), (NULL, 'Loan Type'), (NULL, 'Manufacturer'), (NULL, 'Manufacturing Settings'), (NULL, 'Mode of Payment'), (NULL, 'Monthly Distribution'), (NULL, 'Naming Series'), (NULL, 'Newsletter'), (NULL, 'Note'), (NULL, 'Notification Control'), (NULL, 'Offer Letter'), (NULL, 'Offer Term'), (NULL, 'Opening Invoice Creation Tool'), (NULL, 'Operation'), (NULL, 'Opportunity Type'), (NULL, 'Packing Slip'), (NULL, 'Page'), (NULL, 'Party Type'), (NULL, 'Payment Entry'), (NULL, 'Payment Gateway'), (NULL, 'Payment Gateway Account');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Payment Reconciliation'), (NULL, 'Payment Request'), (NULL, 'Payment Term'), (NULL, 'Payment Terms Template'), (NULL, 'Payroll Entry'), (NULL, 'Period Closing Voucher'), (NULL, 'Portal Settings'), (NULL, 'Price List'), (NULL, 'Pricing Rule'), (NULL, 'Print Format'), (NULL, 'Print Heading'), (NULL, 'Print Settings'), (NULL, 'Print Style'), (NULL, 'Production Planning Tool'), (NULL, 'Products Settings'), (NULL, 'Project'), (NULL, 'Project Type'), (NULL, 'Property Setter'), (NULL, 'Purchase Invoice'), (NULL, 'Purchase Taxes and Charges Template'), (NULL, 'Quality Inspection'), (NULL, 'Quotation Lost Reason'), (NULL, 'Rename Tool'), (NULL, 'Report'), (NULL, 'Role'), (NULL, 'Role Permission for Page and Report'), (NULL, 'Role Profile'), (NULL, 'SMS Center'), (NULL, 'SMS Log'), (NULL, 'SMS Settings'), (NULL, 'Salary Component'), (NULL, 'Salary Slip'), (NULL, 'Salary Structure'), (NULL, 'Sales Invoice'), (NULL, 'Sales Partner'), (NULL, 'Sales Person'), (NULL, 'Sales Taxes and Charges Template'), (NULL, 'Salutation'), (NULL, 'Sample Collection'), (NULL, 'Selling Settings');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Serial No'), (NULL, 'Setup Progress'), (NULL, 'Shipping Rule'), (NULL, 'Shopping Cart Settings'), (NULL, 'Social Login Keys'), (NULL, 'Standard Reply'), (NULL, 'Stock Ledger Entry'), (NULL, 'Stock Settings'), (NULL, 'Supplier Quotation'), (NULL, 'Supplier Scorecard'), (NULL, 'Supplier Scorecard Criteria'), (NULL, 'Supplier Scorecard Period'), (NULL, 'Supplier Scorecard Standing'), (NULL, 'Supplier Scorecard Variable'), (NULL, 'Supplier Type'), (NULL, 'Support Settings'), (NULL, 'System Settings'), (NULL, 'Tax Rule'), (NULL, 'Terms and Conditions'), (NULL, 'Territory'), (NULL, 'ToDo'), (NULL, 'Training Event'), (NULL, 'Training Feedback'), (NULL, 'Training Program'), (NULL, 'Training Result'), (NULL, 'Translation'), (NULL, 'UOM'), (NULL, 'Unhandled Email'), (NULL, 'Upload Attendance'), (NULL, 'User'), (NULL, 'User Permission'), (NULL, 'User Permission for Page and Report'), (NULL, 'Vehicle'), (NULL, 'Version'), (NULL, 'Warehouse'), (NULL, 'Warranty Claim'), (NULL, 'Webhook'), (NULL, 'Workflow'), (NULL, 'Workflow Action'), (NULL, 'Workflow State');
INSERT INTO `naming_transaction` (`transaction_id`, `transaction`) VALUES (NULL, 'Workstation');
======================================================================================
======================================================================================
ALTER TABLE `hr_appraisal_template` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `appraisal_temp_title`;
ALTER TABLE `hr_loan_type` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `loan_type_id`;
ALTER TABLE `crm_customer_group` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `customer_group_id`;
ALTER TABLE `hr_employee_loan_application` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `employee_id`;
ALTER TABLE `hr_expense_claim_type` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `expense_type`;
ALTER TABLE `set_industry_type` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `industry_type_id`;
ALTER TABLE `crm_lead_source` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `lead_source_id`;
======================================================================================================
08-02-2018
=============================================================================

ALTER TABLE `pro_project` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `project_id`;
ALTER TABLE `hr_salary_slip` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `employee_id`;
ALTER TABLE crm_lead DROP FOREIGN KEY lead_gender;
ALTER TABLE crm_lead DROP FOREIGN KEY lead_salutation;
ALTER TABLE `crm_lead` ADD `lead_is_organization` TINYINT(4) NOT NULL AFTER `salutation_id`;
ALTER TABLE acc_asset_category DROP FOREIGN KEY acc_asset_category_ibfk_1;
RENAME TABLE acc_asset_category TO as_asset_category;
ALTER TABLE `asset_category_account` ADD INDEX(`asset_category_id`);
ALTER TABLE `asset_category_account` ADD INDEX(`company_id`);
ALTER TABLE `asset_category_account` ADD FOREIGN KEY (`asset_category_id`) REFERENCES `as_asset_category`(`asset_category_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
RENAME TABLE asset_category_account TO as_asset_category_account;
DROP TABLE def_acc_asset_depriciation;



ALTER TABLE `inv_item_sales_details` CHANGE `cost_center_id` `selling_cost_center_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_sales_details` CHANGE `account_id` `default_income_account_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_purchase_details` CHANGE `cost_center_id` `buying_cost_center_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_purchase_details` CHANGE `account_id` `expense_account_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_item_tax` CHANGE `account_id` `tax_account_id` INT(10) UNSIGNED NOT NULL;

ALTER TABLE inv_item_inventory DROP FOREIGN KEY inv_item_inventory_ibfk_2;
ALTER TABLE inv_item_inventory DROP FOREIGN KEY inv_item_inventory_ibfk_4;
ALTER TABLE inv_item_inventory DROP FOREIGN KEY inv_item_inventory_ibfk_5;
ALTER TABLE inv_item_inventory DROP FOREIGN KEY inv_item_inventory_ibfk_1;

ALTER TABLE `inv_price_list` ADD `is_default` TINYINT(4) NOT NULL AFTER `is_enable`;
============================================================================================
12-02-2018
============================================================================================
	
ALTER TABLE `inv_series_no_batch` ADD `has_expiry_date` TINYINT NOT NULL AFTER `description`;ALTER TABLE `inv_series_no_batch` ADD `retain_sample` TINYINT NOT NULL AFTER `has_expiry_date`;ALTER TABLE `inv_series_no_batch` ADD `max_sample_quanyity` INT(255) NOT NULL AFTER `retain_sample`;

ALTER TABLE `as_asset_maintenance` ADD FOREIGN KEY (`asset_id`) REFERENCES `as_asset`(`asset_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `as_asset_maintenance_task` ADD FOREIGN KEY (`asset_maintenance_id`) REFERENCES `as_asset_maintenance`(`asset_maintenance_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `as_asset_movement` ADD FOREIGN KEY (`asset_id`) REFERENCES `as_asset`(`asset_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `as_asset_repair` ADD FOREIGN KEY (`asset_id`) REFERENCES `as_asset`(`asset_id`) ON DELETE CASCADE ON UPDATE NO ACTION;


ALTER TABLE `inv_stock_reconciliation_items` ADD FOREIGN KEY (`stock_reconciliation_id`) REFERENCES `inv_stock_reconciliation`(`stock_reconciliation_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_scorecard` ADD FOREIGN KEY (`supplier_id`) REFERENCES `pur_supplier`(`supplier_id`) ON DELETE CASCADE ON UPDATE NO ACTION;

ALTER TABLE `pur_supplier_scorecard_scoring_criteria` ADD FOREIGN KEY (`supplier_scorecard_id`) REFERENCES `pur_supplier_scorecard`(`supplier_scorecard_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
======================================================================================================================
15-02-2018
======================================================================================================================
ALTER TABLE `as_asset_maintenance` ADD `asset_maintenance_name` VARCHAR(255) NOT NULL AFTER `asset_maintenance_id`;

ALTER TABLE `acc_cost_center` CHANGE `parent_cost_center` `parent_cost_center_id` INT(10) NULL DEFAULT NULL;

INSERT INTO `def_sales_quotation_status` (`quotation_status_id`, `status`) VALUES (NULL, 'Expired');
ALTER TABLE `set_company` ADD `is_default` TINYINT(4) NOT NULL AFTER `company_domain_id`;

=====================================================================================================================

ALTER TABLE `inv_packing_slip_item` CHANGE `item_code` `item_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_packing_slip_item` CHANGE `stock_uom` `stock_uom_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_packing_slip_item` CHANGE `weight_uom` `weight_uom_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `inv_packing_slip_item` DROP `page_break`, DROP `dn_detail`;
ALTER TABLE `sales_quotation` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `sales_quotation` CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `sales_order` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `sales_order` CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `sales_order_additional_discount` ADD `lost_remarks` TEXT NOT NULL AFTER `billing_status_id`;
ALTER TABLE `acc_purchase_invoice_payment_schedule` CHANGE `due_date` `due_date` INT NOT NULL;
ALTER TABLE `inv_packing_slip_item` ADD FOREIGN KEY (`packing_slip_id`) REFERENCES `inv_packing_slip`(`packing_slip_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
====================================================================================================================
====================================================================================================================
19-02-2018 BY MANOJ
====================================================================================================================
ALTER TABLE inv_material_request DROP FOREIGN KEY letter_head_key_id;
ALTER TABLE inv_material_request DROP FOREIGN KEY material_request_key;
ALTER TABLE inv_material_request DROP FOREIGN KEY printing_head_key_id;
ALTER TABLE inv_material_request DROP FOREIGN KEY status;
ALTER TABLE inv_material_request DROP FOREIGN KEY terms;
ALTER TABLE inv_material_request DROP FOREIGN KEY company_key_id2;

--
-- Table structure for table `def_acc_journal_entry`
--

CREATE TABLE `def_acc_journal_entry` (
  `entry_type_id` int(10) UNSIGNED NOT NULL,
  `voucher_type` varchar(250) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `def_acc_journal_entry`
--

INSERT INTO `def_acc_journal_entry` (`entry_type_id`, `voucher_type`) VALUES
(1, 'Journal Entry'),
(2, 'Bank Entry'),
(3, 'Cash Entry'),
(4, 'Credit Card Entry'),
(5, 'Debit Note'),
(6, 'Contra Entry'),
(7, 'Excise Entry'),
(8, 'Write Off Entry'),
(9, 'Opening Entry'),
(10, 'Depreciation Entry');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `def_acc_journal_entry`
--
ALTER TABLE `def_acc_journal_entry`
  ADD PRIMARY KEY (`entry_type_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `def_acc_journal_entry`
--
ALTER TABLE `def_acc_journal_entry`
  MODIFY `entry_type_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

ALTER TABLE `hr_training_program` CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `crm_sms_center` ADD `naming_series` VARCHAR(255) NOT NULL AFTER `sms_center_id`
=================================================================================================================
21-02-2018 BY MANOJ
=================================================================================================================
ALTER TABLE `inv_material_request` ADD `m_req_stop_status` TINYINT(4) NOT NULL DEFAULT '0' AFTER `terms`;
=================================================================================================================
22-02-2018 BY MANOJ
=================================================================================================================
ALTER TABLE `crm_customer_group` ADD `pay_term_template_id` INT UNSIGNED NOT NULL AFTER `price_list_id`;
=================================================================================================================
23-02-2018 BY MANOJ
=================================================================================================================
ALTER TABLE `acc_payment_entry` ADD `created_by` INT(10) UNSIGNED NOT NULL AFTER `printing_heading_id`, ADD `created_on` TIMESTAMP NULL DEFAULT NULL AFTER `created_by`, ADD `updated_by` INT(10) UNSIGNED NOT NULL AFTER `created_on`, ADD `updated_on` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `updated_by`, ADD `is_delete` TINYINT(4) NOT NULL AFTER `updated_on`, ADD INDEX (`created_by`), ADD INDEX (`updated_by`);
ALTER TABLE `acc_payment_entry` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `con_address` ADD `created_by` INT(10) UNSIGNED NOT NULL AFTER `is_delete`;
ALTER TABLE `con_address` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0', CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `con_contact` ADD `created_by` INT(10) UNSIGNED NOT NULL AFTER `unsubscribed`, ADD `created_on` TIMESTAMP NULL DEFAULT NULL AFTER `created_by`, ADD `updated_by` INT(10) UNSIGNED NOT NULL AFTER `created_on`, ADD `updated_on` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP AFTER `updated_by`, ADD `is_delete` TINYINT(4) NOT NULL DEFAULT '0' AFTER `updated_on`, ADD INDEX (`created_by`), ADD INDEX (`updated_by`);
ALTER TABLE `acc_payment_request` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `acc_c_form` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `acc_journal_entry` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `as_asset_category` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `as_asset_maintenance_log` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `as_asset_repair` CHANGE `is_delete` `is_delete` TINYINT(4) NOT NULL DEFAULT '0';
ALTER TABLE `con_address` CHANGE `email_address` `email_address` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE main_schedule DROP COLUMN customer_group;
ALTER TABLE `main_schedule` ADD `customer_group_id` INT(10) UNSIGNED NOT NULL AFTER `customer_address_id`, ADD INDEX (`customer_group_id`);
ALTER TABLE `pur_taxes_and_charges_template` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pur_taxes_and_charges_template` CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `crm_lead` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL, CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `crm_opportunity` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL, CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pro_activity_cost` CHANGE `created_by` `created_by` INT(10) UNSIGNED NOT NULL, CHANGE `updated_by` `updated_by` INT(10) UNSIGNED NOT NULL;
ALTER TABLE pro_activity_cost DROP FOREIGN KEY pro_activity_cost_ibfk_2;
ALTER TABLE sales_order_payment_details DROP FOREIGN KEY sales_order_payment_details_ibfk_2;
======================================================================================================================
27-02-2018 B Y MANOJ
======================================================================================================================
ALTER TABLE `pro_task` CHANGE `description` `description` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE `inv_stock_reconciliation` CHANGE `difference_amount` `difference_account_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `pur_supplier_type` ADD `pay_term_template_id` INT UNSIGNED NOT NULL AFTER `credit_days`, ADD INDEX (`pay_term_template_id`);
ALTER TABLE `pur_supplier` ADD `supplier_details` TEXT NOT NULL AFTER `contact_id`;
ALTER TABLE inv_item_uom_conversion DROP FOREIGN KEY inv_item_uom_conversion_ibfk_2;
=====================================================================================================
01-03-2018 BY MANOJ
=====================================================================================================
ALTER TABLE `acc_purchase_invoice_item` ADD `amount` DECIMAL(19,2) NOT NULL AFTER `rate`;
ALTER TABLE `acc_purchase_invoice_payment_schedule` CHANGE `due_date` `due_date_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_purchase_invoice_taxes_and_charges` CHANGE `taxes_and_charges_id` `pur_invoice_taxes_charges_id` INT(10) NOT NULL AUTO_INCREMENT;
ALTER TABLE `acc_sales_invoice_total` CHANGE `sales_invoice_apply_addi_disc_on_id` `invoice_apply_addi_disc_on_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_sales_invoice` ADD `update_stock` TINYINT(4) NOT NULL AFTER `ignore_pricing_rule`;
ALTER TABLE `acc_sales_invoice_item` CHANGE `base_amount` `amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `acc_sales_invoice_total` ADD `total_billing_amount` DECIMAL(19,2) NOT NULL AFTER `base_total`;
ALTER TABLE `acc_sales_invoice_payment_schedule` CHANGE `due_date` `due_date_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_sales_invoice_taxes_and_charges` CHANGE `taxes_and_charges_id` `sales_invoice_taxes_charges_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT;
ALTER TABLE acc_sales_invoice DROP COLUMN territory_id;
ALTER TABLE `acc_sales_invoice` ADD `territory_id` VARCHAR(255) NOT NULL AFTER `company_address_id`;
ALTER TABLE `acc_sales_invoice_advance` CHANGE `remarks` `advance_remarks` VARCHAR(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;
ALTER TABLE `acc_sales_invoice_sales_team` CHANGE `allocated_amount` `sales_allocated_amount` DECIMAL(19,2) NOT NULL;
ALTER TABLE `crm_customer` ADD `pay_term_template_id` INT UNSIGNED NOT NULL AFTER `customer_credit_days_based_id`, ADD `bypass_sales_order` TINYINT(4) NOT NULL AFTER `pay_term_template_id`, ADD INDEX (`pay_term_template_id`);
ALTER TABLE `man_workstation` ADD `net_hour_rate` INT(11) NOT NULL AFTER `hour_rate`;
======================================================================================================================
02-03-2018 BY MANOJ
======================================================================================================================
ALTER TABLE `pur_purchase_order` CHANGE `created_by` `created_by` INT(11) UNSIGNED NOT NULL;
ALTER TABLE `pur_purchase_order` CHANGE `updated_by` `updated_by` INT(11) UNSIGNED NOT NULL;
ALTER TABLE `inv_pricing_rule` ADD FOREIGN KEY (`item_id`) REFERENCES `inv_item`(`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_fiscal_year_company` ADD FOREIGN KEY (`fiscal_year_id`) REFERENCES `acc_fiscal_year`(`fiscal_year_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_budget_account` ADD FOREIGN KEY (`budget_id`) REFERENCES `acc_budget`(`budget_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_c_form_invoice_detail` ADD FOREIGN KEY (`c_form_id`) REFERENCES `acc_c_form`(`c_form_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_journal_entry_account` ADD FOREIGN KEY (`journal_entry_id`) REFERENCES `acc_journal_entry`(`journal_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_monthly_distribution_percentage` ADD FOREIGN KEY (`distribution_id`) REFERENCES `acc_monthly_distribution`(`distribution_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_payment_entry_deduction` ADD FOREIGN KEY (`payment_entry_id`) REFERENCES `acc_payment_entry`(`payment_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_payment_entry_reference` ADD FOREIGN KEY (`payment_entry_id`) REFERENCES `acc_payment_entry`(`payment_entry_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_addtional_details` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_advance` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_item` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_payment_schedule` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_raw_material_suppiled` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_taxes_and_charges` CHANGE `purchase_invoice_id` `purchase_invoice_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_purchase_invoice_taxes_and_charges` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_purchase_invoice_total` ADD FOREIGN KEY (`purchase_invoice_id`) REFERENCES `acc_purchase_invoice`(`purchase_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_addtional_details` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_advance` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_item` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_payment_schedule` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_sales_team` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_taxes_and_charges` CHANGE `sales_invoice_id` `sales_invoice_id` INT(10) UNSIGNED NOT NULL;
ALTER TABLE `acc_sales_invoice_taxes_and_charges` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_time_sheet` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE `acc_sales_invoice_total` ADD FOREIGN KEY (`sales_invoice_id`) REFERENCES `acc_sales_invoice`(`sales_invoice_id`) ON DELETE CASCADE ON UPDATE NO ACTION;
===========================================================================================================
07-03-2018 BY MANOJ
===========================================================================================================
ALTER TABLE crm_customer DROP FOREIGN KEY cus_days;
ALTER TABLE crm_customer_group DROP FOREIGN KEY crm_credit;

/**********************14-12-2018*********************************************/

ALTER TABLE `hr_employee` ADD `employee_profile` TEXT NOT NULL AFTER `gender_id`